!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).zango=t()}(function(){return function r(o,i,u){function f(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(a)return a(n,!0);throw(e=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=i[n]={exports:{}},o[n][0].call(e.exports,function(t){return f(o[n][1][t]||t)},e,e.exports,r,o,i,u)}return i[n].exports}for(var a="function"==typeof require&&require,t=0;t<u.length;t++)f(u[t]);return f}({1:[function(t,n,e){"use strict";function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==f.return||f.return()}finally{if(o)throw i}}return e}(t,n)||f(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var u=t("./util.js").unknownOp,a=t("./cursor.js"),s={$match:function(t,n){return t.filter(n)},$project:function(t,n){return t.project(n)},$group:function(t,n){return t.group(n)},$unwind:function(t,n){return t.unwind(n)},$sort:function(t,n){return t.sort(n)},$skip:function(t,n){return t.skip(n)},$limit:function(t,n){return t.limit(n)}};n.exports=function(t,n){var e=new a(t,"readonly"),r=function(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}(n);try{for(r.s();!(o=r.n()).done;){var o=i(function(t){var n=Object.keys(t);if(1<n.length)throw Error("stages must be passed only one operator");var e=n[0],n=s[e];return n||u(e),[n,t[e]]}(o.value),2);(0,o[0])(e,o[1])}}catch(t){r.e(t)}finally{r.f()}return e}},{"./cursor.js":4,"./util.js":21}],2:[function(t,n,e){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function o(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=t("q"),c=t("./util.js").getIDBError,a=t("./cursor.js"),l=t("./aggregate.js"),p=t("./update.js"),h=t("./remove.js"),t=function(){function e(t,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._db=t,this._name=n,this._indexes=new Set}var t,n,r;return t=e,(n=[{key:"_isIndexed",value:function(t){return this._indexes.has(t)||"_id"===t}},{key:"find",value:function(t,n){var e=new a(this,"readonly");return e.filter(t),n&&e.project(n),e}},{key:"findOne",value:function(t,n,e){"function"==typeof n&&(e=n,n=null);var r=s.defer();return this.find(t,n).limit(1).toArray(function(t,n){t?r.reject(t):r.resolve(n[0])}),r.promise.nodeify(e),r.promise}},{key:"aggregate",value:function(t){return l(this,t)}},{key:"_validate",value:function(t){for(var n in t){if("$"===n[0])throw Error("field name cannot start with '$'");var e=t[n];if(Array.isArray(e)){var r=u(e);try{for(r.s();!(o=r.n()).done;){var o=o.value;this._validate(o)}}catch(t){r.e(t)}finally{r.f()}}else"object"===i(e)&&this._validate(e)}}},{key:"insert",value:function(u,t){var f=this;Array.isArray(u)||(u=[u]);var a=s.defer();return this._db._getConn(function(t,n){var e,r=f._name;try{e=n.transaction([r],"readwrite")}catch(t){return a.reject(t)}e.oncomplete=function(){return a.resolve()},e.onerror=function(t){return a.reject(c(t))};var o=e.objectStore(r),i=0;(function t(){var n=u[i];try{f._validate(n)}catch(t){return a.reject(t)}o.add(n).onsuccess=function(){++i<u.length&&t()}})()}),a.promise.nodeify(t),a.promise}},{key:"_modify",value:function(t,n,e){var r=s.defer(),o=new a(this,"readwrite");return o.filter(n),t(o,function(t){t?r.reject(t):r.resolve()}),r.promise.nodeify(e),r.promise}},{key:"update",value:function(t,e,n){return this._modify(function(t,n){return p(t,e,n)},t,n)}},{key:"remove",value:function(t,n){return this._modify(h,t,n)}},{key:"name",get:function(){return this._name}}])&&o(t.prototype,n),r&&o(t,r),e}();n.exports=t},{"./aggregate.js":1,"./cursor.js":4,"./remove.js":16,"./update.js":20,"./util.js":21,q:30}],3:[function(t,n,e){"use strict";function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==f.return||f.return()}finally{if(o)throw i}}return e}(t,n)||f(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function u(t){return t.openCursor()}function o(t){var n=t.pipeline,e=[],r=[],o=0,i=s(n);try{for(i.s();!(f=i.n()).done;){var u=a(f.value,2),f=u[0],u=u[1];if(f===m)r.push(u);else{if(f!==b)break;e.push(u)}o++}}catch(t){i.e(t)}finally{i.f()}n.splice(0,o),t.pred=1<(n=e).length?new _(n):n[0],r.length&&(t.sort_spec=r.reduce(y,{}))}function l(t){var n=t.col,e=t.pred;t.clauses=function(t,n){if(!n)return[];var e=[],r=[],o=s(n.getClauses());try{for(o.s();!(i=o.n()).done;){var i=i.value;t._isIndexed(i.path.literal)&&(i instanceof A?r:e).push(i)}}catch(t){o.e(t)}finally{o.f()}return e.length?e:r}(n,e)}function i(t){var n=t.pred,e=t.clauses,r=t.pipeline;if(e.length){var o=e[0],i=function(t){return n=t,r=(e=o).idb_key_range||null,t=e.idb_direction||"next",(e="_id"===(e=e.path.literal)?n:n.index(e)).openCursor(r,t);var n,e,r};if(!n||o===n)return i;e=(t=o).parent,t=t.index,e.args.splice(t,1)}else if(i=u,!n)return i;return r.unshift([b,n]),i}function c(n){function r(n){s.onsuccess=function(t){a=t.target.result,n()},s.onerror=function(t){return n(g(t))}}function f(t){r(t),a.continue()}var a,s,c=i(n),l=function(e){var t,o,i,u;o=function(t,n){return t?e(t):(s=c(n),void r(function(t){a&&(l=f),e(t)}))},i=(t=n).col,u=t.read_pref,i._db._getConn(function(t,n){if(t)return o(t);var e=i._name;try{var r=n.transaction([e],u);r.onerror=function(t){return o(g(t))},o(null,r.objectStore(e))}catch(t){o(t)}})};return function(n){return l(function(t){return n(t,a)})}}function p(t,n){var e=s(t.pipeline);try{for(e.s();!(r=e.n()).done;){var r=a(r.value,2);n=(0,r[0])(n,r[1])}}catch(t){e.e(t)}finally{e.f()}return n}function h(t){for(var n=[],e=t.pred.args,r=e.length-1;0<=r;r--){var o={col:t.col,read_pref:t.read_pref,pred:e[r],pipeline:[]};l(o);var i=E(o);n.push(p(o,i))}function u(){return n.pop()}var f=new Set,a=u(),s=function r(o){a(function(t,n,e){t?o(t):n?!function(t){t=v(t._id);if(!f.has(t))return f.add(t)}(n)?r(o):o(null,n,e):(e=o,(a=u())?s(e):e())})},c=t.sort_spec;return c&&t.pipeline.push([m,c]),s}var y=t("deepmerge"),d=t("./util.js"),v=d.hashify,g=d.getIDBError,b=t("./filter.js"),m=t("./sort.js"),t=t("./lang/filter.js"),w=t.build,_=t.Conjunction,j=t.Disjunction,A=t.Exists,E=function(t){var n=c(t);return function(e){n(function(t,n){n?e(null,n.value,n):e(t)})}};n.exports=function(t){var n;try{n=function(t){var n=[],e=s(t);try{for(e.s();!(i=e.n()).done;){var r=a(i.value,2),o=r[0],i=r[1];if(o===b){r=w(i);if(!1===r)return;if(!r)continue;i=r}n.push([o,i])}}catch(t){e.e(t)}finally{e.f()}return n}(t._pipeline)}catch(n){return function(t){return t(n)}}if(!n)return function(t){return t()};var e,r={col:t._col,read_pref:t._read_pref,hint:t._hint,pipeline:n};return o(r),e=r.pred instanceof j?h(r):(l(r),function(t){if(t.hint){var n=t.clauses,e=t.hint,r=[],o=s(n);try{for(o.s();!(i=o.n()).done;){var i=i.value;i.path.literal===e&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}r.length||(r=[{path:{literal:e}}]),t.clauses=r}}(r),function(t){if(t.sort_spec){var n=t.clauses,e=t.sort_spec,r=t.pipeline,o=[],i=s(n);try{for(i.s();!(f=i.n()).done;){var u=f.value,f=u.path.literal;e.hasOwnProperty(f)&&(f=e[f],u.idb_direction=0<f?"next":"prev",o.push(u))}}catch(t){i.e(t)}finally{i.f()}o.length?t.clauses=o:r.unshift([m,e])}}(r),E(r)),p(r,e)}},{"./filter.js":6,"./lang/filter.js":11,"./sort.js":18,"./util.js":21,deepmerge:25}],4:[function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=a(e);return t=r?(t=a(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):t}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=t("events"),c=t("q"),l=t("./create_next_fn.js"),p=t("./filter.js"),h=t("./project.js"),y=t("./group.js"),d=t("./unwind.js"),v=t("./sort.js"),g=t("./skip.js"),b=t("./limit.js"),t=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}(o,s);var t,n,e,r=f(o);function o(t,n){var e;return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this))._col=t,e._read_pref=n,e._pipeline=[],e._next=e._init,e}return t=o,(n=[{key:"_forEach",value:function(e,r){var o=this;this._next(function(t,n){n?(e(n),o.emit("data",n),o._forEach(e,r)):(o.emit("end"),r(t))})}},{key:"forEach",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=1<arguments.length?arguments[1]:void 0,e=c.defer();return this._forEach(t,function(t){t?e.reject(t):e.resolve()}),e.promise.nodeify(n),e.promise}},{key:"_toArray",value:function(n){var e=[];this._forEach(function(t){e.push(t)},function(t){return n(t,e)})}},{key:"toArray",value:function(t){var e=c.defer();return this._toArray(function(t,n){t?e.reject(t):e.resolve(n)}),e.promise.nodeify(t),e.promise}},{key:"_assertUnopened",value:function(){if(this._opened)throw Error("cursor has already been opened")}},{key:"hint",value:function(t){if(this._assertUnopened(),!this._col._isIndexed(t))throw Error("index '".concat(t,"' does not exist"));return this._hint=t,this}},{key:"_addStage",value:function(t,n){return this._assertUnopened(),this._pipeline.push([t,n]),this}},{key:"filter",value:function(t){return this._addStage(p,t)}},{key:"limit",value:function(t){return this._addStage(b,t)}},{key:"skip",value:function(t){return this._addStage(g,t)}},{key:"project",value:function(t){return this._addStage(h,t)}},{key:"group",value:function(t){return this._addStage(y,t)}},{key:"unwind",value:function(t){return this._addStage(d,t)}},{key:"sort",value:function(t){return this._addStage(v,t)}},{key:"_init",value:function(t){this._opened=!0,this._next=l(this),this._next(t)}}])&&i(t.prototype,n),e&&i(t,e),o}();n.exports=t},{"./create_next_fn.js":3,"./filter.js":6,"./group.js":7,"./limit.js":14,"./project.js":15,"./skip.js":17,"./sort.js":18,"./unwind.js":19,events:26,q:30}],5:[function(t,n,e){"use strict";function s(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function i(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=u(e);return t=r?(t=u(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||"object"!==c(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):t}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=t("events"),p=t("q"),h=t("./util.js").getIDBError,y=t("./collection.js"),t=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(a,l);var t,n,e,f=i(a);function a(t,n,e){var r;if(!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(r=f.call(this))._name=t,"object"===c(n)?e=n:r._version=n,r._cols={},r._config={},r._initGetConn(),Array.isArray(e)){var o=s(e);try{for(o.s();!(i=o.n()).done;){var i=i.value;r._addCollection(i),r._config[i]=!0}}catch(t){o.e(t)}finally{o.f()}}else for(var u in e)r._addCollection(u),r._addIndex(e[u],u);return r}return t=a,(n=[{key:"_addCollection",value:function(t){this._cols[t]=new y(this,t)}},{key:"_addIndex",value:function(t,n){var e=this._config;if(!t)return e[n]=!1;if("object"!==c(t))return e[n]={};var r=this._cols[n];if(Array.isArray(t)){var o={},i=s(t);try{for(i.s();!(u=i.n()).done;){var u=u.value;o[u]=!0,r._indexes.add(u)}}catch(t){i.e(t)}finally{i.f()}e[n]=o}else{for(var f in t)t[f]&&r._indexes.add(f);e[n]=t}}},{key:"_addStore",value:function(t,n){var e,r=t.createObjectStore(n,{keyPath:"_id",autoIncrement:!0}),o=this._config[n];for(e in o)o[e]?r.createIndex(e,e,{unique:!1}):r.deleteIndex(e)}},{key:"_getConn",value:function(r){var o=this,t=this._version?indexedDB.open(this._name,this._version):indexedDB.open(this._name);t.onsuccess=function(t){t=t.target.result;o._idb=t,o._version=t.version,o._open=!0,r(null,t)},t.onerror=function(t){return r(h(t))},t.onupgradeneeded=function(t){var n,e=t.target.result;for(n in o._config)try{o._config[n]?e.objectStoreNames.contains(n)||o._addStore(e,n):e.deleteObjectStore(n)}catch(t){return r(t)}},t.onblocked=function(){return o.emit("blocked")}}},{key:"_initGetConn",value:function(){}},{key:"collection",value:function(t){var n=this._cols[t];if(!n)throw Error("collection '".concat(t,"' does not exist"));return n}},{key:"open",value:function(t){var n=this,e=p.defer();return this._getConn(function(t){t?e.reject(t):e.resolve(n)}),e.promise.nodeify(t),e.promise}},{key:"close",value:function(){this._open&&(this._idb.close(),this._open=!1,this._initGetConn())}},{key:"drop",value:function(t){this.close();var n=p.defer(),e=indexedDB.deleteDatabase(this._name);return e.onsuccess=function(){return n.resolve()},e.onerror=function(t){return n.reject(h(t))},n.promise.nodeify(t),n.promise}},{key:"name",get:function(){return this._name}},{key:"version",get:function(){return this._version}}])&&r(t.prototype,n),e&&r(t,e),a}();n.exports=t},{"./collection.js":2,"./util.js":21,events:26,q:30}],6:[function(t,n,e){"use strict";var u=t("./lang/fields.js");n.exports=function(t,i){return function(o){!function r(){t(function(t,n,e){n?i.run(new u(n))?o(null,n,e):r():o(t)})}()}}},{"./lang/fields.js":10}],7:[function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n,e){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){t=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=c(t)););return t}(t,n);if(t){n=Object.getOwnPropertyDescriptor(t,n);return n.get?n.get.call(e):n.value}})(t,n,e||t)}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=c(e);return t=r?(t=c(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):t}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function p(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,n,e){return n&&p(t.prototype,n),e&&p(t,e),t}function y(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o,i=u(t);try{for(i.s();!(o=i.n()).done;)o.value.apply(void 0,e)}catch(t){i.e(t)}finally{i.f()}}function d(t,n){var e=u(n);try{for(e.s();!(r=e.n()).done;){var r=r.value;y(t,r)}}catch(t){e.e(t)}finally{e.f()}}function v(t,o,i,u){return function(r){!function e(){t(function(t,n){return n?(u(n),void e()):((t=t)||d(o,i),void r(t,i))})}()}}function g(t,n,e){function r(t,n){return n={_id:n},f.push(n),y(i,n),n}function o(t){return a.run(new A(t))}var i=e.in_start,u=e.in_iter,e=e.in_end,f=[],a=n.ast,n=u.length?function(t){var n=o(t),n=r(_(n),n);y(u,n,t)}:function(t){t=o(t);r(_(t),t)};return v(t,e,f,n)}function b(t,n,e){if(n.has_refs)return g(t,n,e);function r(){var t={_id:n.ast.run()};return y(o,t),f.push(t),t}var o=e.in_start,i=e.in_iter,u=e.in_end,f=[];if(i.length){var a=r;return v(t,u,f,function(t){y(i,a(),t)})}return function(e){t(function(t,n){n&&(r(),d(u,f)),e(t,f)})}}var m=t("./util.js"),w=m.unknownOp,_=m.hashify,j=t("./lang/expression.js"),A=t("./lang/fields.js"),E=function(){function t(){l(this,t)}return h(t,[{key:"getOpValueWithRefs",value:function(t,n,e){var r=t.ast,t=t.fields;e(r.run(t))}},{key:"value",get:function(){return this._value}}],[{key:"getNoRefsSteps",value:function(t){return t.in_iter}},{key:"getOpValue",value:function(t,n){n(t.ast.run())}}]),t}(),S=function(){a(r,E);var n=s(r);function r(){var t;return l(this,r),(t=n.call(this))._value=0,t}return h(r,[{key:"getOpValueWithRefs",value:function(t,n,e){i(c(r.prototype),"getOpValueWithRefs",this).call(this,t,n,function(t){r._verify(t,e)})}},{key:"add",value:function(t){this._value+=t}}],[{key:"_verify",value:function(t,n){"number"==typeof t&&n(t)}},{key:"getOpValue",value:function(t,n){i(c(r),"getOpValue",this).call(this,t,function(t){return r._verify(t,n)})}}]),r}(),t=function(){a(e,S);var n=s(e);function e(){var t;return l(this,e),(t=n.call(this))._count=0,t}return h(e,[{key:"add",value:function(t){this._count++,i(c(e.prototype),"add",this).call(this,t)}},{key:"value",get:function(){return this._value/this._count||0}}]),e}(),k=function(){a(r,E);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this))._value=null,n._fn=t,n._add=n._add1,n}return h(r,[{key:"_add1",value:function(t){this._value=t,this._add=this._add2}},{key:"_add2",value:function(t){this._fn(t,this._value)&&(this._value=t)}},{key:"add",value:function(t){null!=t&&this._add(t)}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),r}(),x={$sum:S,$avg:t,$min:function(){a(n,k);var t=s(n);function n(){return l(this,n),t.call(this,function(t,n){return t<n})}return n}(),$max:function(){a(n,k);var t=s(n);function n(){return l(this,n),t.call(this,function(t,n){return n<t})}return n}(),$push:function(){a(e,E);var n=s(e);function e(){var t;return l(this,e),(t=n.call(this))._value=[],t}return h(e,[{key:"add",value:function(t){this._value.push(t)}}]),e}(),$addToSet:function(){a(e,E);var n=s(e);function e(){var t;return l(this,e),(t=n.call(this))._hashes={},t}return h(e,[{key:"add",value:function(t){this._hashes[_(t)]=t}},{key:"value",get:function(){var t,n=[];for(t in this._hashes)n.push(this._hashes[t]);return n}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),e}()};n.exports=function(t,n){if(!n.hasOwnProperty("_id"))throw Error("the '_id' field is missing");var e=j(n._id),r=Object.assign({},n);delete r._id;var o,i={in_start:[],in_iter:[],in_end:[]};for(o in r)!function(t,o,n){var e=t.in_start,r=t.in_iter,i=t.in_end;if(1<(u=Object.keys(n)).length)throw Error("fields must have only one operator");var u=u[0],f=x[u];if(!f)throw"$"===u[0]&&w(u),Error("unexpected field '".concat(u,"'"));var a=j(n[u]);e.push(function(t){t[o]=new f(a)}),a.has_refs?r.push(function(t,n){var e,r=new A(n);r.ensure(a.paths)&&(e=t[o],r=Object.assign({fields:r},a),e.getOpValueWithRefs(r,n,function(t){return e.add(t)}))}):f.getOpValue(a,function(n){f.getNoRefsSteps(t).push(function(t){t[o].add(n)})}),i.push(function(t){t[o]=t[o].value})}(i,o,r[o]);var u=b(t,e,i),f=function(e){u(function(t,n){t?e(t):(f=function(t){return t(null,n.pop())})(e)})};return function(t){return f(t)}}},{"./lang/expression.js":9,"./lang/fields.js":10,"./util.js":21}],8:[function(t,n,e){"use strict";n.exports={Db:t("./db.js")}},{"./db.js":5}],9:[function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=c(e);return t=r?(t=c(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):t}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function p(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,n,e){return n&&p(t.prototype,n),e&&p(t,e),t}function d(e,r){return function(){u(n,e);var t=s(n);function n(){return l(this,n),t.call(this,r)}return n}()}function v(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,r=function(){u(n,e);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}();return r.prototype.InputType=t,r.prototype.ResultType=n,r}function g(t){return d(R,t)}function b(t){return d(F,t)}function m(t){return d(rt,t)}function w(t,n){var e,r=new Set,o=new Set;for(e in n)("$"===e[0]?r:o).add(e);if(1<r.size)throw Error("objects cannot have more than one operator");if(r.size){var i=h(o);try{for(i.s();!(u=i.n()).done;){var u=u.value;throw Error("unexpected field '".concat(u,"'"))}}catch(t){i.e(t)}finally{i.f()}var f=h(r);try{for(f.s();!(a=f.n()).done;){var a=a.value;return"$literal"===a?E.literal(n[a]):function(t,n,e){var r=pt[n];r||_(n),Array.isArray(e)||(e=[e]);for(var o=new r,i=[],u=[],f=[],a=0;a<e.length&&a<o.length;a++){var s=ht(u,e[a]);if(s.ResultType){if(s.ResultType!==o.InputType)return o.alt;o.add(s)}else{if(s instanceof ct){if(!s.result_types.has(o.InputType))return o.alt;if(1===s.result_types.size){o.add(s);continue}}i.push(s),o.add(new lt(f))}}return u.length?(t.push.apply(t,u),i.length?new ct(f,i,o):o):new o.ResultType(o.run())}(t,a,n[a])}}catch(t){f.e(t)}finally{f.f()}}var s,c=[],l={};for(s in n)l[s]=ht(c,n[s]);var p=new B(l);return c.length?(t.push.apply(t,c),p):new E(p.run())}var _=t("../util.js").unknownOp,j=t("./missing_symbol.js"),A=t("./path.js"),E=function(){function n(t){l(this,n),this.value=t}return y(n,[{key:"run",value:function(){return this.value}},{key:"ResultType",get:function(){return this.constructor}}],[{key:"any",value:function(t){return new("number"==typeof t?S:"string"==typeof t?k:Array.isArray(t)?x:t instanceof Date?I:n)(t)}},{key:"literal",value:function(t){return new O(n.any(t))}}]),n}(),S=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,null,[{key:"isType",value:function(t){return"number"==typeof t}}]),n}(),k=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,null,[{key:"isType",value:function(t){return"string"==typeof t}}]),n}(),x=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,null,[{key:"isType",value:function(t){return Array.isArray(t)}}]),n}(),I=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,null,[{key:"isType",value:function(t){return t instanceof Date}}]),n}(),O=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,[{key:"run",value:function(){return this.value.run()}},{key:"ResultType",get:function(){return this.value.ResultType}}]),n}(),T=function(){function n(t){l(this,n),this.path=t}return y(n,[{key:"run",value:function(t){t=t.get(this.path);return t===j?null:t}}]),n}(),B=function(){u(n,E);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,[{key:"run",value:function(t){var n,e={},r=this.value;for(n in r)e[n]=r[n].run(t);return e}}]),n}(),C=function(){function t(){l(this,t),this.args=[]}return y(t,[{key:"add",value:function(t){this.args.push(t)}},{key:"alt",get:function(){return new E(null)}}]),t}(),L=function(){u(r,C);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this)).fn=t,n}return y(r,[{key:"run",value:function(n){var t=this.args,e=this.fn;return t.map(function(t){return t.run(n)}).reduce(e)}},{key:"length",get:function(){return 1/0}}]),r}(),U=function(){u(n,L);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,[{key:"run",value:function(t){return this.fn(this.args[0].run(t))}},{key:"length",get:function(){return 1}}]),n}(),R=function(){u(n,v(L,S));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),$=function(){u(n,g(function(t,n){return t+n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),P=function(){u(n,g(function(t,n){return t-n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),M=function(){u(n,g(function(t,n){return t*n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),D=function(){u(n,g(function(t,n){return t/n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),N=function(){u(n,g(function(t,n){return t%n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),F=function(){u(n,v(L,S));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,[{key:"run",value:function(n){return this.fn.apply(this,r(this.args.map(function(t){return t.run(n)})))}},{key:"length",get:function(){return this.fn.length}}]),n}(),Y=function(){u(n,b(Math.abs));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),q=function(){u(n,b(Math.ceil));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),V=function(){u(n,b(Math.floor));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),z=function(){u(n,b(Math.log));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),K=function(){u(n,b(Math.log10));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),Q=function(){u(n,b(Math.pow));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),W=function(){u(n,b(Math.sqrt));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),H=function(){u(n,b(Math.trunc));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),J=function(){u(n,v(L,k));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),G=function(){u(n,d(J,function(t,n){return t+n}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),X=function(){u(n,v(U,k));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return y(n,[{key:"alt",get:function(){return new k("")}}]),n}(),Z=function(){u(n,d(X,function(t){return t.toLowerCase()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),tt=function(){u(n,d(X,function(t){return t.toUpperCase()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),nt=function(){u(n,v(L,x));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),et=function(){u(n,d(nt,function(t,n){return t.concat(n)}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),rt=function(){u(n,v(U,I,S));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),ot=function(){u(n,m(function(t){return t.getDate()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),it=function(){u(n,m(function(t){return t.getUTCFullYear()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),ut=function(){u(n,m(function(t){return t.getUTCMonth()+1}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),ft=function(){u(n,m(function(t){return t.getUTCHours()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),at=function(){u(n,m(function(t){return t.getUTCMinutes()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),st=function(){u(n,m(function(t){return t.getUTCSeconds()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),t=function(){u(n,m(function(t){return t.getUTCMilliseconds()}));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),ct=function(){function i(t,n,e){l(this,i);var r=e.InputType,o=e.alt;this.result_types=new Set([e.ResultType,o.ResultType]),this.stack=t,this.isType=r.isType,this.args=n,this.op=e,this.alt_value=o.value}return y(i,[{key:"run",value:function(t){var n=this.stack,e=this.isType,r=this.op,o=[],i=h(this.args);try{for(i.s();!(u=i.n()).done;){var u=u.value.run(t);if(!e(u))return this.alt_value;o.push(u)}}catch(t){i.e(t)}finally{i.f()}for(var f=o.length-1;0<=f;f--)n.push(o[f]);return r.run(t)}}]),i}(),lt=function(){function n(t){l(this,n),this.stack=t}return y(n,[{key:"run",value:function(){return this.stack.pop()}}]),n}(),pt={$add:$,$subtract:P,$multiply:M,$divide:D,$mod:N,$abs:Y,$ceil:q,$floor:V,$ln:z,$log10:K,$pow:Q,$sqrt:W,$trunc:H,$concat:G,$toLower:Z,$toUpper:tt,$concatArrays:et,$dayOfMonth:ot,$year:it,$month:ut,$hour:ft,$minute:at,$second:st,$millisecond:t},ht=function(t,n){if("string"!=typeof n||"$"!==n[0])return null==n||n.constructor!==Object?E.any(n):w(t,n);n=new A(n.substring(1));return t.push(n),new T(n)};n.exports=function(t){var n=[];return{ast:ht(n,t),paths:n,has_refs:!!n.length}}},{"../util.js":21,"./missing_symbol.js":12,"./path.js":13}],10:[function(t,n,e){"use strict";function o(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=t("../util.js").get,a=t("./missing_symbol.js"),t=function(){function n(t){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this._doc=t}var t,e,r;return t=n,(e=[{key:"get",value:function(t){var e=a;return u(this._doc,t.pieces,function(t,n){e=t[n]}),e}},{key:"ensure",value:function(t){var n=o(t);try{for(n.s();!(e=n.n()).done;){var e=e.value;if(this.get(e)===a)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}}])&&i(t.prototype,e),r&&i(t,r),n}();n.exports=t},{"../util.js":21,"./missing_symbol.js":12}],11:[function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t))return t}(t)||i(t)||v(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n,e){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){t=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=c(t)););return t}(t,n);if(t){n=Object.getOwnPropertyDescriptor(t,n);return n.get?n.get.call(e):n.value}})(t,n,e||t)}function u(t){return function(t){if(Array.isArray(t))return g(t)}(t)||i(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=c(e);return t=r?(t=c(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):t}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function p(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,n,e){return n&&p(t.prototype,n),e&&p(t,e),t}function d(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=v(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function v(t,n){if(t){if("string"==typeof t)return g(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(t,n):void 0}}function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function b(t){if("number"==typeof t)return!isNaN(t);if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if(!t)return!1;if(t.constructor===Object)return!1;if(Array.isArray(t)){var n,e=d(t);try{for(e.s();!(n=e.n()).done;)if(!b(n.value))return!1}catch(t){e.e(t)}finally{e.f()}return!0}return t instanceof Date&&!isNaN(t.valueOf())}function m(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return function(){f(r,N);var e=s(r);function r(t,n){return l(this,r),e.call(this,t,o,n)}return r}()}function w(t,n){return n<t}function _(t,n){return n<=t}function j(t,n){return t<n}function A(t,n){return t<=n}function E(t,n,e){function r(){return t.push(new M(n,e)),!0}if(null==e||e.constructor!==Object)return r();var o=new Set(Object.keys(e));if(o.has("$exists")&&!e.$exists)return t.push(new P(n,!1)),!0;var i,u=[];if(o.has("$eq")&&(u.push(new M(n,e.$eq)),o.delete("$eq")),o.has("$ne")&&(u.push(new D(n,e.$ne)),o.delete("$ne")),!function(i,u,f,a){var n=d(G);try{for(n.s();!(t=n.n()).done;){var t=y(t.value),t=function(t,n){var e=[],r=d(n);try{for(r.s();!(o=r.n()).done;){var o=o.value;if(!a.has(o))return;o=f[o];if(!b(o))return!1;e.push(o)}}catch(t){r.e(t)}finally{r.f()}return i.push(new t(u,e)),!0}(t[0],t.slice(1));if(!1===t)return;if(t){a.delete("$gt"),a.delete("$gte"),a.delete("$lt"),a.delete("$lte");break}}}catch(t){n.e(t)}finally{n.f()}return!0}(u,n,e,o))return!1;if(o.has("$in")){var f=[],a=d(e.$in);try{for(a.s();!(s=a.n()).done;){var s=s.value;f.push(new M(n,s))}}catch(t){a.e(t)}finally{a.f()}1<f.length?u.push(new R(f)):f.length&&u.push(f[0]),o.delete("$in")}if(o.has("$nin")){var c=d(e.$nin);try{for(c.s();!(l=c.n()).done;){var l=l.value;u.push(new D(n,l))}}catch(t){c.e(t)}finally{c.f()}o.delete("$nin")}o.has("$elemMatch")&&((i=X(e.$elemMatch))&&u.push(new W(n,i)),o.delete("$elemMatch")),o.has("$regex")&&(i=new RegExp(e.$regex,e.$options),u.push(new H(n,i)),o.delete("$regex"),o.delete("$options")),e.$exists&&!u.length&&(u.push(new P(n,!0)),o.delete("$exists"));var p=d(o);try{for(p.s();!(h=p.n()).done;){var h=h.value;"$"===h[0]&&I(h)}}catch(t){p.e(t)}finally{p.f()}return u.length?(t.push.apply(t,u),!0):r()}var S=t("../util.js"),k=S.isObject,x=S.equal,I=S.unknownOp,O=t("./missing_symbol.js"),T=t("./path.js"),B=t("./fields.js"),C=function(){function t(){l(this,t)}return h(t,[{key:"getClauses",value:function(){return this.is_index_matchable?[this]:[]}}]),t}(),L=function(){f(r,C);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this)).args=t,n}return r}(),U=function(){f(n,L);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"getClauses",value:function(){for(var t=[],n=0;n<this.args.length;n++){var e=this.args[n];e instanceof L?t.push.apply(t,u(e.getClauses())):e.is_index_matchable&&(e.parent=this,e.index=n,t.push(e))}return t}},{key:"run",value:function(t){var n,e=d(this.args);try{for(e.s();!(n=e.n()).done;)if(!n.value.run(t))return!1}catch(t){e.e(t)}finally{e.f()}return!0}}]),n}(),R=function(){f(n,L);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){var n,e=d(this.args);try{for(e.s();!(n=e.n()).done;)if(n.value.run(t))return!0}catch(t){e.e(t)}finally{e.f()}return!1}}]),n}(),$=function(){f(n,U);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){return!r(c(n.prototype),"run",this).call(this,t)}}]),n}(),P=function(){f(o,C);var r=s(o);function o(t,n){var e;return l(this,o),(e=r.call(this)).path=t,e.bool=n,e}return h(o,[{key:"run",value:function(t){return t.get(this.path)!==O===this.bool}},{key:"is_index_matchable",get:function(){return!!this.bool}}]),o}(),M=function(){f(o,C);var r=s(o);function o(t,n){var e;return l(this,o),(e=r.call(this)).path=t,e.value=n,e}return h(o,[{key:"run",value:function(t){t=t.get(this.path);return t!==O&&x(t,this.value)}},{key:"is_index_matchable",get:function(){return b(this.value)}},{key:"idb_key_range",get:function(){return IDBKeyRange.only(this.value)}}]),o}(),D=function(){f(n,M);var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"run",value:function(t){return!r(c(n.prototype),"run",this).call(this,t)}},{key:"is_index_matchable",get:function(){return!1}}]),n}(),N=function(){f(i,C);var o=s(i);function i(t,n,e){var r;return l(this,i),(r=o.call(this)).path=t,r.fns=n,r.values=e,r}return h(i,[{key:"run",value:function(t){var n=t.get(this.path);if(n===O||null==n)return!1;for(var e=this.fns,r=this.values,o=0;o<e.length;o++)if(!e[o](n,r[o]))return!1;return!0}},{key:"is_index_matchable",get:function(){return!0}}]),i}(),F=function(){f(n,m(w));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,u(this.values).concat([!0]))}}]),n}(),Y=function(){f(n,m(_));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,u(this.values))}}]),n}(),q=function(){f(n,m(j));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,u(this.values).concat([!0]))}}]),n}(),V=function(){f(n,m(A));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,u(this.values))}}]),n}(),z=function(){f(n,m(w,j));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,u(this.values).concat([!0,!0]))}}]),n}(),K=function(){f(n,m(_,j));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,u(this.values).concat([!1,!0]))}}]),n}(),Q=function(){f(n,m(w,A));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,u(this.values).concat([!0,!1]))}}]),n}(),S=function(){f(n,m(_,A));var t=s(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,u(this.values))}}]),n}(),W=function(){f(o,C);var r=s(o);function o(t,n){var e;return l(this,o),(e=r.call(this)).path=t,e.op=n,e}return h(o,[{key:"run",value:function(t){t=t.get(this.path);if(!t||!t[Symbol.iterator])return!1;var n=this.op,e=d(t);try{for(e.s();!(r=e.n()).done;){var r=r.value;if(k(r)&&n.run(new B(r)))return!0}}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"is_index_matchable",get:function(){return!1}}]),o}(),H=function(){f(o,C);var r=s(o);function o(t,n){var e;return l(this,o),(e=r.call(this)).path=t,e.expr=n,e}return h(o,[{key:"run",value:function(t){t=t.get(this.path);return t!==O&&this.expr.test(t)}},{key:"is_index_matchable",get:function(){return!1}}]),o}(),t=function(t,n){var e=[],r=d(n);try{for(r.s();!(o=r.n()).done;){var o=o.value,o=X(o);o&&e.push(o)}}catch(t){r.e(t)}finally{r.f()}return e.length&&t.push(new $(e)),!0},J={$and:function(t,n){var e=d(n);try{for(e.s();!(r=e.n()).done;){var r=r.value,r=X(r);if(!1===r)return!1;r&&(r.constructor===U?t.push.apply(t,u(r.args)):t.push(r))}}catch(t){e.e(t)}finally{e.f()}return!0},$or:function(t,n){var e,r=[],o=d(n);try{for(o.s();!(i=o.n()).done;){var i=i.value,i=X(i);i?i.constructor===R?r.push.apply(r,u(i.args)):r.push(i):!1===i&&(e=!0)}}catch(t){o.e(t)}finally{o.f()}if(1<r.length)t.push(new R(r));else if(r.length)t.push(r[0]);else if(e)return!1;return!0},$not:t,$nor:t},G=[[z,"$gt","$lt"],[K,"$gte","$lt"],[Q,"$gt","$lte"],[S,"$gte","$lte"],[F,"$gt"],[Y,"$gte"],[q,"$lt"],[V,"$lte"]],X=function(t){var n,e=[];for(n in t){var r,o=t[n],i=void 0;if(!(i="$"!==n[0]?E(e,new T(n),o):(Array.isArray(o)||(o=[o]),(r=J[n])||I(n),r(e,o))))return i}if(e.length)return 1===e.length?e[0]:new U(e)};n.exports.build=X,n.exports.Conjunction=U,n.exports.Disjunction=R,n.exports.Exists=P},{"../util.js":21,"./fields.js":10,"./missing_symbol.js":12,"./path.js":13}],12:[function(t,n,e){"use strict";n.exports=Symbol("missing")},{}],13:[function(t,n,e){"use strict";var r=t("../util.js").toPathPieces,t=function n(t){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.pieces=r(t),this.literal=t};n.exports=t},{"../util.js":21}],14:[function(t,n,e){"use strict";n.exports=function(n,e){var r=0;return function(t){r++<e?n(t):t()}}},{}],15:[function(t,n,e){"use strict";function d(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==f.return||f.return()}finally{if(o)throw i}}return e}(t,n)||f(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var o=t("./util.js"),g=o.toPathPieces,b=o.set,m=o.remove2,w=o.copy,_=t("./lang/expression.js"),j=t("./lang/fields.js");n.exports=function(t,n){function e(t){return!!n[t]}var r=!0;n.hasOwnProperty("_id")&&(r=e("_id"),delete n._id);function o(t){if(e(t)!==a)throw Error("cannot mix inclusions and exclusions")}var i,u=[],f=[],a=!0,s=function(t){a=e(t),s=o};for(i in n){var c=n[i],l=g(i);"boolean"==typeof c||1===c||0===c?(s(i),u.push(l)):f.push([l,function(t){var t=_(t),o=t.ast,i=t.paths;if(t.has_refs)return function(t){t=new j(t);if(t.ensure(i)){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];b.apply(void 0,e.concat([o.run(t)]))}};var u=o.run();return function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return b.apply(void 0,e.concat([u]))}}(c)])}var p,h,y=[];f.length&&y.push(function(t,n){return function(t,n,e){var r=v(e);try{for(r.s();!(i=r.n()).done;){var o=d(i.value,2),i=o[0];(0,o[1])(t,n,i)}}catch(t){r.e(t)}finally{r.f()}return n}(t,n,f)}),u.length?(a===r&&u.push(["_id"]),p=a?w:m,y.push(function(t){return p(t,u)})):(h=r?function(t,n){t.hasOwnProperty("_id")&&(n._id=t._id)}:function(t,n){delete n._id},y.push(function(t,n){return h(t,n),n}));return function(i){t(function(t,n){if(!n)return i(t);var e,r=n,o=v(y);try{for(o.s();!(e=o.n()).done;)r=(0,e.value)(n,r)}catch(t){o.e(t)}finally{o.f()}i(null,r)})}}},{"./lang/expression.js":9,"./lang/fields.js":10,"./util.js":21}],16:[function(t,n,e){"use strict";var i=t("./util.js").getIDBError;n.exports=function(t,o){!function r(){t._next(function(t,n,e){if(!n)return o(t);e=e.delete();e.onsuccess=r,e.onerror=function(t){return o(i(t))}})}()}},{"./util.js":21}],17:[function(t,n,e){"use strict";n.exports=function(t,o){var i=0;return function e(r){t(function(t,n){n?++i>o?r(null,n):e(r):r(t)})}}},{}],18:[function(t,n,e){"use strict";function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==f.return||f.return()}finally{if(o)throw i}}return e}(t,n)||c(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var t=t("./util.js"),l=t.toPathPieces,p=t.isObject,h=t.equal;n.exports=function(t,n){var e,u=[];for(e in n)u.push([l(e),n[e]]);function o(t,n){var e=function(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=c(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}(u);try{for(e.s();!(o=e.n()).done;){var r=s(o.value,2),o=r[0],i=r[1],o=function(t,n,e,r){for(var o=0;o<e.length-1;o++){var i=e[o];if(t=t[i],n=n[i],p(t)){if(p(n))continue}else if(!p(n))return null;return r}var u=e[o];if(t.hasOwnProperty(u)){if(n.hasOwnProperty(u))return t=t[u],n=n[u],h(t,n)?0:(t<n?1:-1)*r}else if(!n.hasOwnProperty(u))return null;return r}(t,n,o,i);if(0<o||o<0)return o}}catch(t){e.e(t)}finally{e.f()}return-i}function i(t){return t(null,f.pop())}var f=[],a=function(r){!function e(){t(function(t,n){return n?(f.push(n),void e()):function(t){if(t)return r(t);f=f.sort(o),(a=i)(r)}(t)})}()};return function(t){return a(t)}}},{"./util.js":21}],19:[function(t,n,e){"use strict";function a(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var t=t("./util.js"),s=t.toPathPieces,c=t.get;n.exports=function(t,n){function r(t){return t(null,u.pop())}function o(t,n){var e=u.length;if(c(t,i,function(t,n){var e,t=t[n];if(t&&t[Symbol.iterator]){var r,o=a(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;u.push((e=i,(r=n)in(i={})?Object.defineProperty(i,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[r]=e,i))}}catch(t){o.e(t)}finally{o.f()}}}),e===u.length)return f(n);r(n)}var i=s(n.substring(1)),u=[],f=function(e){t(function(t,n){t?e(t):n?o(n,e):(f=r)(e)})};return function(t){return f(t)}}},{"./util.js":21}],20:[function(t,n,e){"use strict";function a(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(n,e,r){return function(t){u(t,n,e,r)}}var t=t("./util.js"),s=t.toPathPieces,r=t.get,o=t.set,u=t.modify,c=t.remove1,l=t.rename,p=t.equal,h=t.unknownOp,y=t.getIDBError,d={$set:function(n,e){return function(t){o(t,n,e)}},$unset:function(n){return function(t){return c(t,n)}},$rename:function(n,e){return function(t){l(t,n,e)}}},t=function(o){return function(t,r){return i(t,function(t,n){var e=t[n];"number"==typeof e&&(t[n]=o(r,e))},function(t,n){return t[n]=0})}};d.$inc=t(function(t,n){return t+n}),d.$mul=t(function(t,n){return t*n});t=function(r){return function(t,e){return i(t,function(t,n){r(e,t[n])&&(t[n]=e)},function(t,n){return t[n]=e})}};d.$min=t(function(t,n){return t<n}),d.$max=t(function(t,n){return n<t}),d.$push=function(t,e){return i(t,function(t,n){n=t[n];Array.isArray(n)&&n.push(e)},function(t,n){return t[n]=[e]})},d.$pop=function(n,t){var e=t<1?function(t){return t.shift()}:function(t){return t.pop()};return function(t){r(t,n,function(t,n){n=t[n];Array.isArray(n)&&e(n)})}},d.$pullAll=function(n,u){return function(t){r(t,n,function(t,n){var e=t[n];if(Array.isArray(e)){var r=[],o=a(e);try{for(o.s();!(i=o.n()).done;){var i=i.value;!function(t){var n=a(u);try{for(n.s();!(e=n.n()).done;){var e=e.value;if(p(t,e))return!0}}catch(t){n.e(t)}finally{n.f()}}(i)&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}t[n]=r}})}},d.$pull=function(t,n){return d.$pullAll(t,[n])},d.$addToSet=function(n,o){return function(t){r(t,n,function(t,n){n=t[n];if(Array.isArray(n)){var e=a(n);try{for(e.s();!(r=e.n()).done;){var r=r.value;if(p(r,o))return}}catch(t){e.e(t)}finally{e.f()}n.push(o)}})}};n.exports=function(t,n,u){var e,f=[];for(e in n)!function(t,n,e){if("$"!==n[0])return t.push(d.$set(s(n),e));var r,o=d[n];for(r in o||h(n),e)t.push(o(s(r),e[r]))}(f,e,n[e]);if(!f.length)return u(null);!function i(){t._next(function(t,n,e){if(!n)return u(t);var r,o=a(f);try{for(o.s();!(r=o.n()).done;)(0,r.value)(n)}catch(t){o.e(t)}finally{o.f()}e=e.update(n);e.onsuccess=i,e.onerror=function(t){return u(y(t))}})}()}},{"./util.js":21}],21:[function(t,n,e){"use strict";function a(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw o}}}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){for(var e=0;e<n.length-1;e++){var r=n[e];if(!t.hasOwnProperty(r))return;if(t=t[r],!h(t))return}if(t.hasOwnProperty(n[e]))return t}function s(t,n,e){for(var r=e;r<n.length-1;r++)t[n[r]]={},t=t[n[r]];return t}function i(t,n,e){(t=o(t,n))&&e(t,n[n.length-1])}function c(i,u,f){for(var t in i)!function(t){var n,e=[],r=a(f);try{for(r.s();!(o=r.n()).done;){var o=o.value;if(o[0]===t){if(1===o.length)return;e.push(o.slice(1))}}}catch(t){r.e(t)}finally{r.f()}e.length?(n=i[t],u[t]=new n.constructor,c(n,u[t],e)):u[t]=l(i[t])}(t)}var u=t("deepmerge"),l=t("clone"),p=t("object-hash"),h=function(t){return"object"===r(t)&&null!==t},y=function(n,e,t,r){function o(t){n=s(n,e,t),r(n,i)}var i=e[e.length-1];if(!n.hasOwnProperty(e[0]))return o(0);if(1<e.length){n=n[e[0]];for(var u=1;u<e.length-1;u++){var f=e[u];if(!h(n[f]))return;if(Array.isArray(n)&&f<0)return;if(!n.hasOwnProperty(f))return o(u);n=n[f]}}t(n,i)},d=function(t){if(void 0!==t)return p(t)};n.exports.toPathPieces=function(t){return t.split(".")},n.exports.exists=function(t,n){return!!o(t,n)},n.exports.create=s,n.exports.get=i,n.exports.set=function(t,n,e){function r(t,n){return t[n]=e}y(t,n,r,r)},n.exports.isObject=h,n.exports.modify=y,n.exports.remove1=function(t,n){for(var e,r=0;r<n.length-1;r++)if(t=t[n[r]],!h(t))return;Array.isArray(t)?(e=Number.parseFloat(n[r]),Number.isInteger(e)&&t.splice(e,1)):delete t[n[r]]},n.exports.remove2=function(t,n){var e=new t.constructor;return c(t,e,n),e},n.exports.rename=function(t,n,e){i(t,n,function(t,n){t[e]=t[n],delete t[n]})},n.exports.copy=function(t,n){var e=[],r=a(n);try{for(r.s();!(i=r.n()).done;){var o=i.value,i=new t.constructor;!function(t,n,e){for(var r=0;r<e.length-1;r++){var o=e[r];if(t=t[o],!h(t))return;n[o]=new t.constructor,n=n[o]}if(t.hasOwnProperty(e[r]))return n[e[r]]=t[e[r]],t}(t,i,o)||e.push(i)}}catch(t){r.e(t)}finally{r.f()}return e.reduce(u,{})},n.exports.equal=function(t,n){return d(t)===d(n)},n.exports.unknownOp=function(t){throw Error("unknown operator '".concat(t,"'"))},n.exports.hashify=d,n.exports.getIDBError=function(t){return Error(t.target.error.message)}},{clone:24,deepmerge:25,"object-hash":28}],22:[function(t,n,e){"use strict";e.byteLength=function(t){var n=c(t),t=n[0],n=n[1];return 3*(t+n)/4-n},e.toByteArray=function(t){var n,e,r=c(t),o=r[0],r=r[1],i=new s(function(t,n){return 3*(t+n)/4-n}(o,r)),u=0,f=0<r?o-4:o;for(e=0;e<f;e+=4)n=a[t.charCodeAt(e)]<<18|a[t.charCodeAt(e+1)]<<12|a[t.charCodeAt(e+2)]<<6|a[t.charCodeAt(e+3)],i[u++]=n>>16&255,i[u++]=n>>8&255,i[u++]=255&n;2===r&&(n=a[t.charCodeAt(e)]<<2|a[t.charCodeAt(e+1)]>>4,i[u++]=255&n);1===r&&(n=a[t.charCodeAt(e)]<<10|a[t.charCodeAt(e+1)]<<4|a[t.charCodeAt(e+2)]>>2,i[u++]=n>>8&255,i[u++]=255&n);return i},e.fromByteArray=function(t){for(var n,e=t.length,r=e%3,o=[],i=0,u=e-r;i<u;i+=16383)o.push(function(t,n,e){for(var r,o=[],i=n;i<e;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(function(t){return f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[63&t]}(r));return o.join("")}(t,i,u<i+16383?u:i+16383));1==r?(n=t[e-1],o.push(f[n>>2]+f[n<<4&63]+"==")):2==r&&(n=(t[e-2]<<8)+t[e-1],o.push(f[n>>10]+f[n>>4&63]+f[n<<2&63]+"="));return o.join("")};for(var f=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)f[o]=r[o],a[r.charCodeAt(o)]=o;function c(t){var n=t.length;if(0<n%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?n:t,t===n?0:4-t%4]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],23:[function(B,t,C){(function(t){(function(){"use strict";var f=B("base64-js"),i=B("ieee754");C.Buffer=l,C.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},C.INSPECT_MAX_BYTES=50;var n=2147483647;function o(t){if(n<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');t=new Uint8Array(t);return t.__proto__=l.prototype,t}function l(t,n,e){if("number"!=typeof t)return r(t,n,e);if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}function r(t,n,e){if("string"==typeof t)return function(t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var e=0|p(t,n),r=o(e),n=r.write(t,n);n!==e&&(r=r.slice(0,n));return r}(t,n);if(ArrayBuffer.isView(t))return s(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(O(t,ArrayBuffer)||t&&O(t.buffer,ArrayBuffer))return function(t,n,e){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(e||0))throw new RangeError('"length" is outside of buffer bounds');e=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e);return e.__proto__=l.prototype,e}(t,n,e);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,n,e);r=function(t){if(l.isBuffer(t)){var n=0|c(t.length),e=o(n);return 0===e.length?e:(t.copy(e,0,0,n),e)}if(void 0!==t.length)return"number"!=typeof t.length||T(t.length)?o(0):s(t);if("Buffer"===t.type&&Array.isArray(t.data))return s(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),n,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return u(t),o(t<0?0:0|c(t))}function s(t){for(var n=t.length<0?0:0|c(t.length),e=o(n),r=0;r<n;r+=1)e[r]=255&t[r];return e}function c(t){if(n<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function p(t,n){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||O(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===e)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return x(t).length;default:if(o)return r?-1:k(t).length;n=(""+n).toLowerCase(),o=!0}}function e(t,n,e){var r,o,i,u=!1;if((n=void 0===n||n<0?0:n)>this.length)return"";if((e=void 0===e||e>this.length?this.length:e)<=0)return"";if((e>>>=0)<=(n>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,n,e){var r=t.length;(!n||n<0)&&(n=0);(!e||e<0||r<e)&&(e=r);for(var o="",i=n;i<e;++i)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[i]);return o}(this,n,e);case"utf8":case"utf-8":return b(this,n,e);case"ascii":return function(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(127&t[o]);return r}(this,n,e);case"latin1":case"binary":return function(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(t[o]);return r}(this,n,e);case"base64":return r=this,i=e,0===(o=n)&&i===r.length?f.fromByteArray(r):f.fromByteArray(r.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,n,e){for(var r=t.slice(n,e),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}(this,n,e);default:if(u)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),u=!0}}function h(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function y(t,n,e,r,o){if(0===t.length)return-1;if("string"==typeof e?(r=e,e=0):2147483647<e?e=2147483647:e<-2147483648&&(e=-2147483648),(e=(e=T(e=+e)?o?0:t.length-1:e)<0?t.length+e:e)>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof n&&(n=l.from(n,r)),l.isBuffer(n))return 0===n.length?-1:d(t,n,e,r,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,n,e):d(t,[n],e,r,o);throw new TypeError("val must be string, number or Buffer")}function d(t,n,e,r,o){var i=1,u=t.length,f=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;u/=i=2,f/=2,e/=2}function a(t,n){return 1===i?t[n]:t.readUInt16BE(n*i)}if(o)for(var s=-1,c=e;c<u;c++)if(a(t,c)===a(n,-1===s?0:c-s)){if(c-(s=-1===s?c:s)+1===f)return s*i}else-1!==s&&(c-=c-s),s=-1;else for(c=e=u<e+f?u-f:e;0<=c;c--){for(var l=!0,p=0;p<f;p++)if(a(t,c+p)!==a(n,p)){l=!1;break}if(l)return c}return-1}function v(t,n,e,r){return I(function(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}(n),t,e,r)}function g(t,n,e,r){return I(function(t,n){for(var e,r,o=[],i=0;i<t.length&&!((n-=2)<0);++i)r=t.charCodeAt(i),e=r>>8,r=r%256,o.push(r),o.push(e);return o}(n,t.length-e),t,e,r)}function b(t,n,e){e=Math.min(t.length,e);for(var r=[],o=n;o<e;){var i,u,f,a,s=t[o],c=null,l=239<s?4:223<s?3:191<s?2:1;if(o+l<=e)switch(l){case 1:s<128&&(c=s);break;case 2:128==(192&(i=t[o+1]))&&127<(a=(31&s)<<6|63&i)&&(c=a);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&2047<(a=(15&s)<<12|(63&i)<<6|63&u)&&(a<55296||57343<a)&&(c=a);break;case 4:i=t[o+1],u=t[o+2],f=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&f)&&65535<(a=(15&s)<<18|(63&i)<<12|(63&u)<<6|63&f)&&a<1114112&&(c=a)}null===c?(c=65533,l=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=l}return function(t){var n=t.length;if(n<=m)return String.fromCharCode.apply(String,t);var e="",r=0;for(;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=m));return e}(r)}C.kMaxLength=n,(l.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=r,l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,n,e){return n=n,e=e,u(t=t),!(t<=0)&&void 0!==n?"string"==typeof e?o(t).fill(n,e):o(t).fill(n):o(t)},l.allocUnsafe=a,l.allocUnsafeSlow=a,l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,n){if(O(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),O(n,Uint8Array)&&(n=l.from(n,n.offset,n.byteLength)),!l.isBuffer(t)||!l.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var e=t.length,r=n.length,o=0,i=Math.min(e,r);o<i;++o)if(t[o]!==n[o]){e=t[o],r=n[o];break}return e<r?-1:r<e?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);if(void 0===n)for(o=n=0;o<t.length;++o)n+=t[o].length;for(var e=l.allocUnsafe(n),r=0,o=0;o<t.length;++o){var i=t[o];if(O(i,Uint8Array)&&(i=l.from(i)),!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)h(this,n,n+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)h(this,n,n+3),h(this,n+1,n+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)h(this,n,n+7),h(this,n+1,n+6),h(this,n+2,n+5),h(this,n+3,n+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):e.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=C.INSPECT_MAX_BYTES,t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim();return this.length>n&&(t+=" ... "),"<Buffer "+t+">"},l.prototype.compare=function(t,n,e,r,o){if(O(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||e>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&e<=n)return 0;if(o<=r)return-1;if(e<=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),u=(e>>>=0)-(n>>>=0),f=Math.min(i,u),a=this.slice(r,o),s=t.slice(n,e),c=0;c<f;++c)if(a[c]!==s[c]){i=a[c],u=s[c];break}return i<u?-1:u<i?1:0},l.prototype.includes=function(t,n,e){return-1!==this.indexOf(t,n,e)},l.prototype.indexOf=function(t,n,e){return y(this,t,n,e,!0)},l.prototype.lastIndexOf=function(t,n,e){return y(this,t,n,e,!1)},l.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"==typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(e)?(e>>>=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var o=this.length-n;if((void 0===e||o<e)&&(e=o),0<t.length&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,u,f,a=!1;;)switch(r){case"hex":return function(t,n,e,r){e=Number(e)||0;var o=t.length-e;(!r||o<(r=Number(r)))&&(r=o),(o=n.length)/2<r&&(r=o/2);for(var i=0;i<r;++i){var u=parseInt(n.substr(2*i,2),16);if(T(u))return i;t[e+i]=u}return i}(this,t,n,e);case"utf8":case"utf-8":return u=n,f=e,I(k(t,(i=this).length-u),i,u,f);case"ascii":return v(this,t,n,e);case"latin1":case"binary":return v(this,t,n,e);case"base64":return i=this,u=n,f=e,I(x(t),i,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,t,n,e);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var m=4096;function w(t,n,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(e<t+n)throw new RangeError("Trying to access beyond buffer length")}function _(t,n,e,r,o,i){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<n||n<i)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function j(t,n,e,r){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function A(t,n,e,r,o){return n=+n,e>>>=0,o||j(t,0,e,4),i.write(t,n,e,r,23,4),e+4}function E(t,n,e,r,o){return n=+n,e>>>=0,o||j(t,0,e,8),i.write(t,n,e,r,52,8),e+8}l.prototype.slice=function(t,n){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):e<t&&(t=e),(n=void 0===n?e:~~n)<0?(n+=e)<0&&(n=0):e<n&&(n=e),n<t&&(n=t);n=this.subarray(t,n);return n.__proto__=l.prototype,n},l.prototype.readUIntLE=function(t,n,e){t>>>=0,n>>>=0,e||w(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r},l.prototype.readUIntBE=function(t,n,e){t>>>=0,n>>>=0,e||w(t,n,this.length);for(var r=this[t+--n],o=1;0<n&&(o*=256);)r+=this[t+--n]*o;return r},l.prototype.readUInt8=function(t,n){return t>>>=0,n||w(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,n){return t>>>=0,n||w(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,n){return t>>>=0,n||w(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,n){return t>>>=0,n||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,n){return t>>>=0,n||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,n,e){t>>>=0,n>>>=0,e||w(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*n)),r},l.prototype.readIntBE=function(t,n,e){t>>>=0,n>>>=0,e||w(t,n,this.length);for(var r=n,o=1,i=this[t+--r];0<r&&(o*=256);)i+=this[t+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*n)),i},l.prototype.readInt8=function(t,n){return t>>>=0,n||w(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,n){t>>>=0,n||w(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt16BE=function(t,n){t>>>=0,n||w(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt32LE=function(t,n){return t>>>=0,n||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,n){return t>>>=0,n||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,n){return t>>>=0,n||w(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,n){return t>>>=0,n||w(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,n){return t>>>=0,n||w(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,n){return t>>>=0,n||w(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,n,e,r){t=+t,n>>>=0,e>>>=0,r||_(this,t,n,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[n]=255&t;++i<e&&(o*=256);)this[n+i]=t/o&255;return n+e},l.prototype.writeUIntBE=function(t,n,e,r){t=+t,n>>>=0,e>>>=0,r||_(this,t,n,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[n+o]=255&t;0<=--o&&(i*=256);)this[n+o]=t/i&255;return n+e},l.prototype.writeUInt8=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,1,255,0),this[n]=255&t,n+1},l.prototype.writeUInt16LE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},l.prototype.writeUInt16BE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},l.prototype.writeUInt32LE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},l.prototype.writeUInt32BE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},l.prototype.writeIntLE=function(t,n,e,r){t=+t,n>>>=0,r||_(this,t,n,e,(r=Math.pow(2,8*e-1))-1,-r);var o=0,i=1,u=0;for(this[n]=255&t;++o<e&&(i*=256);)t<0&&0===u&&0!==this[n+o-1]&&(u=1),this[n+o]=(t/i>>0)-u&255;return n+e},l.prototype.writeIntBE=function(t,n,e,r){t=+t,n>>>=0,r||_(this,t,n,e,(r=Math.pow(2,8*e-1))-1,-r);var o=e-1,i=1,u=0;for(this[n+o]=255&t;0<=--o&&(i*=256);)t<0&&0===u&&0!==this[n+o+1]&&(u=1),this[n+o]=(t/i>>0)-u&255;return n+e},l.prototype.writeInt8=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},l.prototype.writeInt16LE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},l.prototype.writeInt16BE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},l.prototype.writeInt32LE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},l.prototype.writeInt32BE=function(t,n,e){return t=+t,n>>>=0,e||_(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},l.prototype.writeFloatLE=function(t,n,e){return A(this,t,n,!0,e)},l.prototype.writeFloatBE=function(t,n,e){return A(this,t,n,!1,e)},l.prototype.writeDoubleLE=function(t,n,e){return E(this,t,n,!0,e)},l.prototype.writeDoubleBE=function(t,n,e){return E(this,t,n,!1,e)},l.prototype.copy=function(t,n,e,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e=e||0,r||0===r||(r=this.length),n=(n=n>=t.length?t.length:n)||0,(r=0<r&&r<e?e:r)===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var o=(r=t.length-n<r-e?t.length-n+e:r)-e;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,e,r);else if(this===t&&e<n&&n<r)for(var i=o-1;0<=i;--i)t[i+n]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,r),n);return o},l.prototype.fill=function(t,n,e,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,e=this.length):"string"==typeof e&&(r=e,e=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var o;1===t.length&&(o=t.charCodeAt(0),("utf8"===r&&o<128||"latin1"===r)&&(t=o))}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;var i;if(n>>>=0,e=void 0===e?this.length:e>>>0,"number"==typeof(t=t||0))for(i=n;i<e;++i)this[i]=t;else{var u=l.isBuffer(t)?t:l.from(t,r),f=u.length;if(0===f)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<e-n;++i)this[i+n]=u[i%f]}return this};var S=/[^+/0-9A-Za-z-_]/g;function k(t,n){var e;n=n||1/0;for(var r=t.length,o=null,i=[],u=0;u<r;++u){if(55295<(e=t.charCodeAt(u))&&e<57344){if(!o){if(56319<e){-1<(n-=3)&&i.push(239,191,189);continue}if(u+1===r){-1<(n-=3)&&i.push(239,191,189);continue}o=e;continue}if(e<56320){-1<(n-=3)&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&-1<(n-=3)&&i.push(239,191,189);if(o=null,e<128){if(--n<0)break;i.push(e)}else if(e<2048){if((n-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function x(t){return f.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);++o)n[o+e]=t[o];return o}function O(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function T(t){return t!=t}}).call(this)}).call(this,B("buffer").Buffer)},{"base64-js":22,buffer:23,ieee754:27}],24:[function(t,n,e){(function(S){(function(){var t=function(){"use strict";function m(t,n){return null!=n&&t instanceof n}var w,_,j;try{w=Map}catch(t){w=function(){}}try{_=Set}catch(t){_=function(){}}try{j=Promise}catch(t){j=function(){}}function A(t,h,n,y,d){"object"==typeof h&&(n=h.depth,y=h.prototype,d=h.includeNonEnumerable,h=h.circular);var v=[],g=[],b=void 0!==S;return void 0===h&&(h=!0),function r(t,o){if(null===t)return null;if(0===o)return t;var e,n,i;if("object"!=typeof t)return t;if(m(t,w))e=new w;else if(m(t,_))e=new _;else if(m(t,j))e=new j(function(n,e){t.then(function(t){n(r(t,o-1))},function(t){e(r(t,o-1))})});else if(A.__isArray(t))e=[];else if(A.__isRegExp(t))e=new RegExp(t.source,E(t)),t.lastIndex&&(e.lastIndex=t.lastIndex);else if(A.__isDate(t))e=new Date(t.getTime());else{if(b&&S.isBuffer(t))return e=S.allocUnsafe?S.allocUnsafe(t.length):new S(t.length),t.copy(e),e;m(t,Error)?e=Object.create(t):void 0===y?(n=Object.getPrototypeOf(t),e=Object.create(n)):(e=Object.create(y),n=y)}if(h){var u=v.indexOf(t);if(-1!=u)return g[u];v.push(t),g.push(e)}for(a in m(t,w)&&t.forEach(function(t,n){n=r(n,o-1),t=r(t,o-1),e.set(n,t)}),m(t,_)&&t.forEach(function(t){t=r(t,o-1),e.add(t)}),t)(i=n?Object.getOwnPropertyDescriptor(n,a):i)&&null==i.set||(e[a]=r(t[a],o-1));if(Object.getOwnPropertySymbols)for(var f=Object.getOwnPropertySymbols(t),a=0;a<f.length;a++){var s=f[a];(l=Object.getOwnPropertyDescriptor(t,s))&&!l.enumerable&&!d||(e[s]=r(t[s],o-1),l.enumerable||Object.defineProperty(e,s,{enumerable:!1}))}if(d)for(var c=Object.getOwnPropertyNames(t),a=0;a<c.length;a++){var l,p=c[a];(l=Object.getOwnPropertyDescriptor(t,p))&&l.enumerable||(e[p]=r(t[p],o-1),Object.defineProperty(e,p,{enumerable:!1}))}return e}(t,n=void 0===n?1/0:n)}function n(t){return Object.prototype.toString.call(t)}function E(t){var n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n}return A.clonePrototype=function(t){if(null===t)return null;function n(){}return n.prototype=t,new n},A.__objToStr=n,A.__isDate=function(t){return"object"==typeof t&&"[object Date]"===n(t)},A.__isArray=function(t){return"object"==typeof t&&"[object Array]"===n(t)},A.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===n(t)},A.__getRegExpFlags=E,A}();"object"==typeof n&&n.exports&&(n.exports=t)}).call(this)}).call(this,t("buffer").Buffer)},{buffer:23}],25:[function(t,n,e){"use strict";var o=function(t){return!(!(n=t)||"object"!=typeof n||(n=t,"[object RegExp]"===(t=Object.prototype.toString.call(n))||"[object Date]"===t||function(t){return t.$$typeof===r}(n)));var n};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function f(t,n){return!1!==n.clone&&n.isMergeableObject(t)?c((e=t,Array.isArray(e)?[]:{}),t,n):t;var e}function i(t,n,e){return t.concat(n).map(function(t){return f(t,e)})}function a(t){return Object.keys(t).concat((n=t,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]));var n}function s(t,n){try{return n in t}catch(t){return!1}}function u(r,o,i){var u={};return i.isMergeableObject(r)&&a(r).forEach(function(t){u[t]=f(r[t],i)}),a(o).forEach(function(t){var n,e;(!s(n=r,e=t)||Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))&&(s(r,t)&&i.isMergeableObject(o[t])?u[t]=(n=t,((e=i).customMerge&&"function"==typeof(n=e.customMerge(n))?n:c)(r[t],o[t],i)):u[t]=f(o[t],i))}),u}function c(t,n,e){(e=e||{}).arrayMerge=e.arrayMerge||i,e.isMergeableObject=e.isMergeableObject||o,e.cloneUnlessOtherwiseSpecified=f;var r=Array.isArray(n);return r===Array.isArray(t)?r?e.arrayMerge(t,n,e):u(t,n,e):f(n,e)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return c(t,n,e)},{})},n.exports=c},{}],26:[function(t,n,e){"use strict";var r,o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(t,n,e){return Function.prototype.apply.call(t,n,e)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}n.exports=u,n.exports.once=function(o,i){return new Promise(function(t,n){function e(){void 0!==r&&o.removeListener("error",r),t([].slice.call(arguments))}var r;"error"!==i&&(r=function(t){o.removeListener(i,e),n(t)},o.once("error",r)),o.once(i,e)})},(u.EventEmitter=u).prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function l(t,n,e,r){var o,i;return s(e),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener||e),o=t._events),i=o[n]),void 0===i?(i=o[n]=e,++t._eventsCount):("function"==typeof i?i=o[n]=r?[e,i]:[i,e]:r?i.unshift(e):i.push(e),0<(e=c(t))&&i.length>e&&!i.warned&&(i.warned=!0,(e=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",e.emitter=t,e.type=n,e.count=i.length,e=e,console&&console.warn&&console.warn(e))),t}function p(t,n,e){t={fired:!1,wrapFn:void 0,target:t,type:n,listener:e},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(t);return n.listener=e,t.wrapFn=n}function h(t,n,e){t=t._events;if(void 0===t)return[];n=t[n];return void 0===n?[]:"function"==typeof n?e?[n.listener||n]:[n]:e?function(t){for(var n=new Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];return n}(n):d(n,n.length)}function y(t){var n=this._events;if(void 0!==n){t=n[t];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function d(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t[r];return e}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return c(this)},u.prototype.emit=function(t){for(var n=[],e=1;e<arguments.length;e++)n.push(arguments[e]);var r,o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){if((r=0<n.length?n[0]:r)instanceof Error)throw r;o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}t=i[t];if(void 0===t)return!1;if("function"==typeof t)a(t,this,n);else for(var u=t.length,f=d(t,u),e=0;e<u;++e)a(f[e],this,n);return!0},u.prototype.addListener=function(t,n){return l(this,t,n,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,n){return l(this,t,n,!0)},u.prototype.once=function(t,n){return s(n),this.on(t,p(this,t,n)),this},u.prototype.prependOnceListener=function(t,n){return s(n),this.prependListener(t,p(this,t,n)),this},u.prototype.removeListener=function(t,n){var e,r,o,i,u;if(s(n),void 0===(r=this._events))return this;if(void 0===(e=r[t]))return this;if(e===n||e.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,e.listener||n));else if("function"!=typeof e){for(o=-1,i=e.length-1;0<=i;i--)if(e[i]===n||e[i].listener===n){u=e[i].listener,o=i;break}if(o<0)return this;0===o?e.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(e,o),1===e.length&&(r[t]=e[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||n)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var n,e=this._events;if(void 0===e)return this;if(void 0===e.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==e[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete e[t]),this;if(0===arguments.length){for(var r,o=Object.keys(e),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=e[t]))this.removeListener(t,n);else if(void 0!==n)for(i=n.length-1;0<=i;i--)this.removeListener(t,n[i]);return this},u.prototype.listeners=function(t){return h(this,t,!0)},u.prototype.rawListeners=function(t){return h(this,t,!1)},u.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):y.call(t,n)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},{}],27:[function(t,n,e){e.read=function(t,n,e,r,o){var i,u,f=8*o-r-1,a=(1<<f)-1,s=a>>1,c=-7,l=e?o-1:0,p=e?-1:1,e=t[n+l];for(l+=p,i=e&(1<<-c)-1,e>>=-c,c+=f;0<c;i=256*i+t[n+l],l+=p,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=r;0<c;u=256*u+t[n+l],l+=p,c-=8);if(0===i)i=1-s;else{if(i===a)return u?NaN:1/0*(e?-1:1);u+=Math.pow(2,r),i-=s}return(e?-1:1)*u*Math.pow(2,i-r)},e.write=function(t,n,e,r,o,i){var u,f,a=8*i-o-1,s=(1<<a)-1,c=s>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,i=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,u=s):(u=Math.floor(Math.log(n)/Math.LN2),n*(r=Math.pow(2,-u))<1&&(u--,r*=2),2<=(n+=1<=u+c?l/r:l*Math.pow(2,1-c))*r&&(u++,r/=2),s<=u+c?(f=0,u=s):1<=u+c?(f=(n*r-1)*Math.pow(2,o),u+=c):(f=n*Math.pow(2,c-1)*Math.pow(2,o),u=0));8<=o;t[e+p]=255&f,p+=h,f/=256,o-=8);for(u=u<<o|f,a+=o;0<a;t[e+p]=255&u,p+=h,u/=256,a-=8);t[e+p-h]|=128*i}},{}],28:[function(s,r,o){(function(e){(function(){var t,n;t=function(){return function r(o,i,u){function f(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof s&&s;if(!t&&e)return e(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}e=i[n]={exports:{}};o[n][0].call(e.exports,function(t){return f(o[n][1][t]||t)},e,e.exports,r,o,i,u)}return i[n].exports}for(var a="function"==typeof s&&s,t=0;t<u.length;t++)f(u[t]);return f}({1:[function(g,b,m){(function(t,n,f,e,r,o,i,u,a){"use strict";var s=g("crypto");function c(t,n){return function(t,n){var e="passthrough"!==n.algorithm?s.createHash(n.algorithm):new v;if(void 0===e.write&&(e.write=e.update,e.end=e.update),d(n,e).dispatch(t),e.update||e.end(""),e.digest)return e.digest("buffer"===n.encoding?void 0:n.encoding);e=e.read();return"buffer"!==n.encoding?e.toString(n.encoding):e}(t,n=h(t,n))}(m=b.exports=c).sha1=function(t){return c(t)},m.keys=function(t){return c(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},m.MD5=function(t){return c(t,{algorithm:"md5",encoding:"hex"})},m.keysMD5=function(t){return c(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var l=s.getHashes?s.getHashes().slice():["sha1","md5"];l.push("passthrough");var p=["buffer","hex","binary","base64"];function h(t,n){n=n||{};var e={};if(e.algorithm=n.algorithm||"sha1",e.encoding=n.encoding||"hex",e.excludeValues=!!n.excludeValues,e.algorithm=e.algorithm.toLowerCase(),e.encoding=e.encoding.toLowerCase(),e.ignoreUnknown=!0===n.ignoreUnknown,e.respectType=!1!==n.respectType,e.respectFunctionNames=!1!==n.respectFunctionNames,e.respectFunctionProperties=!1!==n.respectFunctionProperties,e.unorderedArrays=!0===n.unorderedArrays,e.unorderedSets=!1!==n.unorderedSets,e.unorderedObjects=!1!==n.unorderedObjects,e.replacer=n.replacer||void 0,e.excludeKeys=n.excludeKeys||void 0,void 0===t)throw new Error("Object argument required.");for(var r=0;r<l.length;++r)l[r].toLowerCase()===e.algorithm.toLowerCase()&&(e.algorithm=l[r]);if(-1===l.indexOf(e.algorithm))throw new Error('Algorithm "'+e.algorithm+'"  not supported. supported values: '+l.join(", "));if(-1===p.indexOf(e.encoding)&&"passthrough"!==e.algorithm)throw new Error('Encoding "'+e.encoding+'"  not supported. supported values: '+p.join(", "));return e}function y(t){return"function"==typeof t&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function d(o,n,i){function u(t){return n.update?n.update(t,"utf8"):n.write(t,"utf8")}return i=i||[],{dispatch:function(t){return this["_"+(null===(t=o.replacer?o.replacer(t):t)?"null":typeof t)](t)},_object:function(n){var t=Object.prototype.toString.call(n),e=(e=(e=/\[object (.*)\]/i.exec(t))?e[1]:"unknown:["+t+"]").toLowerCase();if(0<=(t=i.indexOf(n)))return this.dispatch("[CIRCULAR:"+t+"]");if(i.push(n),void 0!==f&&f.isBuffer&&f.isBuffer(n))return u("buffer:"),u(n);if("object"===e||"function"===e||"asyncfunction"===e){t=Object.keys(n);o.unorderedObjects&&(t=t.sort()),!1===o.respectType||y(n)||t.splice(0,0,"prototype","__proto__","constructor"),u("object:"+(t=o.excludeKeys?t.filter(function(t){return!o.excludeKeys(t)}):t).length+":");var r=this;return t.forEach(function(t){r.dispatch(t),u(":"),o.excludeValues||r.dispatch(n[t]),u(",")})}if(!this["_"+e]){if(o.ignoreUnknown)return u("["+e+"]");throw new Error('Unknown object type "'+e+'"')}this["_"+e](n)},_array:function(t,n){n=void 0!==n?n:!1!==o.unorderedArrays;var e=this;if(u("array:"+t.length+":"),!n||t.length<=1)return t.forEach(function(t){return e.dispatch(t)});var r=[],t=t.map(function(t){var n=new v,e=i.slice();return d(o,n,e).dispatch(t),r=r.concat(e.slice(i.length)),n.read().toString()});return i=i.concat(r),t.sort(),this._array(t,!1)},_date:function(t){return u("date:"+t.toJSON())},_symbol:function(t){return u("symbol:"+t.toString())},_error:function(t){return u("error:"+t.toString())},_boolean:function(t){return u("bool:"+t.toString())},_string:function(t){u("string:"+t.length+":"),u(t.toString())},_function:function(t){u("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==o.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),o.respectFunctionProperties&&this._object(t)},_number:function(t){return u("number:"+t.toString())},_xml:function(t){return u("xml:"+t.toString())},_null:function(){return u("Null")},_undefined:function(){return u("Undefined")},_regexp:function(t){return u("regex:"+t.toString())},_uint8array:function(t){return u("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return u("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return u("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return u("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return u("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return u("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return u("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return u("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return u("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return u("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return u("url:"+t.toString())},_map:function(t){u("map:");t=Array.from(t);return this._array(t,!1!==o.unorderedSets)},_set:function(t){u("set:");t=Array.from(t);return this._array(t,!1!==o.unorderedSets)},_file:function(t){return u("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob:function(){if(o.ignoreUnknown)return u("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return u("domwindow")},_process:function(){return u("process")},_timer:function(){return u("timer")},_pipe:function(){return u("pipe")},_tcp:function(){return u("tcp")},_udp:function(){return u("udp")},_tty:function(){return u("tty")},_statwatcher:function(){return u("statwatcher")},_securecontext:function(){return u("securecontext")},_connection:function(){return u("connection")},_zlib:function(){return u("zlib")},_context:function(){return u("context")},_nodescript:function(){return u("nodescript")},_httpparser:function(){return u("httpparser")},_dataview:function(){return u("dataview")},_signal:function(){return u("signal")},_fsevent:function(){return u("fsevent")},_tlswrap:function(){return u("tlswrap")}}}function v(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}m.writeToStream=function(t,n,e){return void 0===e&&(e=n,n={}),d(n=h(t,n),e).dispatch(t)}}).call(this,g("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_5812b7fb.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(t,n,s){(function(t,n,e,r,o,i,u,f,a){!function(t){"use strict";var a="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),e="/".charCodeAt(0),r="0".charCodeAt(0),o="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);function s(t){t=t.charCodeAt(0);return t===n||t===u?62:t===e||t===f?63:t<r?-1:t<r+10?t-r+26+26:t<i+26?t-i:t<o+26?t-o+26:void 0}t.toByteArray=function(t){var n,e;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.length,r="="===t.charAt(r-2)?2:"="===t.charAt(r-1)?1:0,o=new a(3*t.length/4-r),i=0<r?t.length-4:t.length,u=0;function f(t){o[u++]=t}for(n=0;n<i;n+=4)f((16711680&(e=s(t.charAt(n))<<18|s(t.charAt(n+1))<<12|s(t.charAt(n+2))<<6|s(t.charAt(n+3))))>>16),f((65280&e)>>8),f(255&e);return 2==r?f(255&(e=s(t.charAt(n))<<2|s(t.charAt(n+1))>>4)):1==r&&(f((e=s(t.charAt(n))<<10|s(t.charAt(n+1))<<4|s(t.charAt(n+2))>>2)>>8&255),f(255&e)),o},t.fromByteArray=function(t){var n,e,r,o,i=t.length%3,u="";function f(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}for(n=0,r=t.length-i;n<r;n+=3)u+=f((o=e=(t[n]<<16)+(t[n+1]<<8)+t[n+2])>>18&63)+f(o>>12&63)+f(o>>6&63)+f(63&o);switch(i){case 1:u+=f((e=t[t.length-1])>>2),u+=f(e<<4&63),u+="==";break;case 2:u+=f((e=(t[t.length-2]<<8)+t[t.length-1])>>10),u+=f(e>>4&63),u+=f(e<<2&63),u+="="}return u}}(void 0===s?this.base64js={}:s)}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function($,t,P){(function(t,n,p,e,r,o,i,u,f){var a=$("base64-js"),s=$("ieee754");function p(t,n,e){if(!(this instanceof p))return new p(t,n,e);var r,o,i,u,f=typeof t;if("base64"===n&&"string"==f)for(t=(u=t).trim?u.trim():u.replace(/^\s+|\s+$/g,"");t.length%4!=0;)t+="=";if("number"==f)r=S(t);else if("string"==f)r=p.byteLength(t,n);else{if("object"!=f)throw new Error("First argument needs to be a number, array or string.");r=S(t.length)}if(p._useTypedArrays?o=p._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),p._useTypedArrays&&"number"==typeof t.byteLength)o._set(t);else if(k(u=t)||p.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(i=0;i<r;i++)p.isBuffer(t)?o[i]=t.readUInt8(i):o[i]=t[i];else if("string"==f)o.write(t,0,n);else if("number"==f&&!p._useTypedArrays&&!e)for(i=0;i<r;i++)o[i]=0;return o}function c(t,n,e,r){r||(R("boolean"==typeof e,"missing or invalid endian"),R(null!=n,"missing offset"),R(n+1<t.length,"Trying to read beyond buffer length"));var o,r=t.length;if(!(r<=n))return e?(o=t[n],n+1<r&&(o|=t[n+1]<<8)):(o=t[n]<<8,n+1<r&&(o|=t[n+1])),o}function l(t,n,e,r){r||(R("boolean"==typeof e,"missing or invalid endian"),R(null!=n,"missing offset"),R(n+3<t.length,"Trying to read beyond buffer length"));var o,r=t.length;if(!(r<=n))return e?(n+2<r&&(o=t[n+2]<<16),n+1<r&&(o|=t[n+1]<<8),o|=t[n],n+3<r&&(o+=t[n+3]<<24>>>0)):(n+1<r&&(o=t[n+1]<<16),n+2<r&&(o|=t[n+2]<<8),n+3<r&&(o|=t[n+3]),o+=t[n]<<24>>>0),o}function h(t,n,e,r){if(r||(R("boolean"==typeof e,"missing or invalid endian"),R(null!=n,"missing offset"),R(n+1<t.length,"Trying to read beyond buffer length")),!(t.length<=n)){e=c(t,n,e,!0);return 32768&e?-1*(65535-e+1):e}}function y(t,n,e,r){if(r||(R("boolean"==typeof e,"missing or invalid endian"),R(null!=n,"missing offset"),R(n+3<t.length,"Trying to read beyond buffer length")),!(t.length<=n)){e=l(t,n,e,!0);return 2147483648&e?-1*(4294967295-e+1):e}}function d(t,n,e,r){return r||(R("boolean"==typeof e,"missing or invalid endian"),R(n+3<t.length,"Trying to read beyond buffer length")),s.read(t,n,e,23,4)}function v(t,n,e,r){return r||(R("boolean"==typeof e,"missing or invalid endian"),R(n+7<t.length,"Trying to read beyond buffer length")),s.read(t,n,e,52,8)}function g(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+1<t.length,"trying to write beyond buffer length"),C(n,65535));o=t.length;if(!(o<=e))for(var i=0,u=Math.min(o-e,2);i<u;i++)t[e+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function b(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+3<t.length,"trying to write beyond buffer length"),C(n,4294967295));o=t.length;if(!(o<=e))for(var i=0,u=Math.min(o-e,4);i<u;i++)t[e+i]=n>>>8*(r?i:3-i)&255}function m(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+1<t.length,"Trying to write beyond buffer length"),L(n,32767,-32768)),t.length<=e||g(t,0<=n?n:65535+n+1,e,r,o)}function w(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+3<t.length,"Trying to write beyond buffer length"),L(n,2147483647,-2147483648)),t.length<=e||b(t,0<=n?n:4294967295+n+1,e,r,o)}function _(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+3<t.length,"Trying to write beyond buffer length"),U(n,34028234663852886e22,-34028234663852886e22)),t.length<=e||s.write(t,n,e,r,23,4)}function j(t,n,e,r,o){o||(R(null!=n,"missing value"),R("boolean"==typeof r,"missing or invalid endian"),R(null!=e,"missing offset"),R(e+7<t.length,"Trying to write beyond buffer length"),U(n,17976931348623157e292,-17976931348623157e292)),t.length<=e||s.write(t,n,e,r,52,8)}P.Buffer=p,P.SlowBuffer=p,P.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=function(){try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},42===n.foo()&&"function"==typeof n.subarray}catch(t){return!1}}(),p.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(t){return!(null==t||!t._isBuffer)},p.byteLength=function(t,n){var e;switch(t+="",n||"utf8"){case"hex":e=t.length/2;break;case"utf8":case"utf-8":e=I(t).length;break;case"ascii":case"binary":case"raw":e=t.length;break;case"base64":e=O(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=2*t.length;break;default:throw new Error("Unknown encoding")}return e},p.concat=function(t,n){if(R(k(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new p(0);if(1===t.length)return t[0];if("number"!=typeof n)for(o=n=0;o<t.length;o++)n+=t[o].length;for(var e=new p(n),r=0,o=0;o<t.length;o++){var i=t[o];i.copy(e,r),r+=i.length}return e},p.prototype.write=function(t,n,e,r){isFinite(n)?isFinite(e)||(r=e,e=void 0):(l=r,r=n,n=e,e=l),n=Number(n)||0;var o,i,u,f,a,s,c,l=this.length-n;switch((!e||l<(e=Number(e)))&&(e=l),r=String(r||"utf8").toLowerCase()){case"hex":o=function(t,n,e,r){e=Number(e)||0;var o=t.length-e;(!r||o<(r=Number(r)))&&(r=o);o=n.length;R(o%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var i=0;i<r;i++){var u=parseInt(n.substr(2*i,2),16);R(!isNaN(u),"Invalid hex string"),t[e+i]=u}return p._charsWritten=2*i,i}(this,t,n,e);break;case"utf8":case"utf-8":f=n,a=e,o=p._charsWritten=T(I(t),this,f,a);break;case"ascii":case"binary":f=this,a=t,s=n,c=e,o=p._charsWritten=T(function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n}(a),f,s,c);break;case"base64":i=n,u=e,o=p._charsWritten=T(O(t),this,i,u);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=this,c=t,i=n,u=e,o=p._charsWritten=T(function(t){for(var n,e,r=[],o=0;o<t.length;o++)n=(e=t.charCodeAt(o))>>8,e=e%256,r.push(e),r.push(n);return r}(c),s,i,u);break;default:throw new Error("Unknown encoding")}return o},p.prototype.toString=function(t,i,r){var n,e,o,u,f=this;if(t=String(t||"utf8").toLowerCase(),i=Number(i)||0,(r=void 0!==r?Number(r):this.length)===i)return"";switch(t){case"hex":n=function(t,n){var e=t.length;(!n||n<0||e<n)&&(n=e);for(var r="",o=!i||i<0?0:i;o<n;o++)r+=x(t[o]);return r}(this,r);break;case"utf8":case"utf-8":n=function(t,n,e){var r="",o="";e=Math.min(t.length,e);for(var i=n;i<e;i++)t[i]<=127?(r+=B(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return r+B(o)}(this,i,r);break;case"ascii":case"binary":n=function(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;o++)r+=String.fromCharCode(t[o]);return r}(this,i,r);break;case"base64":e=this,u=r,n=0===(o=i)&&u===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(o,u));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=function(){for(var t=f.slice(i,r),n="",e=0;e<t.length;e+=2)n+=String.fromCharCode(t[e]+256*t[e+1]);return n}();break;default:throw new Error("Unknown encoding")}return n},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(t,n,e,r){if(e=e||0,n=n||0,(r=!r&&0!==r?this.length:r)!==e&&0!==t.length&&0!==this.length){R(e<=r,"sourceEnd < sourceStart"),R(0<=n&&n<t.length,"targetStart out of bounds"),R(0<=e&&e<this.length,"sourceStart out of bounds"),R(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=t.length-n<r-e?t.length-n+e:r)-e;if(o<100||!p._useTypedArrays)for(var i=0;i<o;i++)t[i+n]=this[i+e];else t._set(this.subarray(e,e+o),n)}},p.prototype.slice=function(t,n){var e=this.length;if(t=E(t,e,0),n=E(n,e,e),p._useTypedArrays)return p._augment(this.subarray(t,n));for(var r=n-t,o=new p(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+t];return o},p.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},p.prototype.set=function(t,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,n)},p.prototype.readUInt8=function(t,n){if(n||(R(null!=t,"missing offset"),R(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},p.prototype.readUInt16LE=function(t,n){return c(this,t,!0,n)},p.prototype.readUInt16BE=function(t,n){return c(this,t,!1,n)},p.prototype.readUInt32LE=function(t,n){return l(this,t,!0,n)},p.prototype.readUInt32BE=function(t,n){return l(this,t,!1,n)},p.prototype.readInt8=function(t,n){if(n||(R(null!=t,"missing offset"),R(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},p.prototype.readInt16LE=function(t,n){return h(this,t,!0,n)},p.prototype.readInt16BE=function(t,n){return h(this,t,!1,n)},p.prototype.readInt32LE=function(t,n){return y(this,t,!0,n)},p.prototype.readInt32BE=function(t,n){return y(this,t,!1,n)},p.prototype.readFloatLE=function(t,n){return d(this,t,!0,n)},p.prototype.readFloatBE=function(t,n){return d(this,t,!1,n)},p.prototype.readDoubleLE=function(t,n){return v(this,t,!0,n)},p.prototype.readDoubleBE=function(t,n){return v(this,t,!1,n)},p.prototype.writeUInt8=function(t,n,e){e||(R(null!=t,"missing value"),R(null!=n,"missing offset"),R(n<this.length,"trying to write beyond buffer length"),C(t,255)),n>=this.length||(this[n]=t)},p.prototype.writeUInt16LE=function(t,n,e){g(this,t,n,!0,e)},p.prototype.writeUInt16BE=function(t,n,e){g(this,t,n,!1,e)},p.prototype.writeUInt32LE=function(t,n,e){b(this,t,n,!0,e)},p.prototype.writeUInt32BE=function(t,n,e){b(this,t,n,!1,e)},p.prototype.writeInt8=function(t,n,e){e||(R(null!=t,"missing value"),R(null!=n,"missing offset"),R(n<this.length,"Trying to write beyond buffer length"),L(t,127,-128)),n>=this.length||(0<=t?this.writeUInt8(t,n,e):this.writeUInt8(255+t+1,n,e))},p.prototype.writeInt16LE=function(t,n,e){m(this,t,n,!0,e)},p.prototype.writeInt16BE=function(t,n,e){m(this,t,n,!1,e)},p.prototype.writeInt32LE=function(t,n,e){w(this,t,n,!0,e)},p.prototype.writeInt32BE=function(t,n,e){w(this,t,n,!1,e)},p.prototype.writeFloatLE=function(t,n,e){_(this,t,n,!0,e)},p.prototype.writeFloatBE=function(t,n,e){_(this,t,n,!1,e)},p.prototype.writeDoubleLE=function(t,n,e){j(this,t,n,!0,e)},p.prototype.writeDoubleBE=function(t,n,e){j(this,t,n,!1,e)},p.prototype.fill=function(t,n,e){if(t=t||0,n=n||0,e=e||this.length,R("number"==typeof(t="string"==typeof t?t.charCodeAt(0):t)&&!isNaN(t),"value is not a number"),R(n<=e,"end < start"),e!==n&&0!==this.length){R(0<=n&&n<this.length,"start out of bounds"),R(0<=e&&e<=this.length,"end out of bounds");for(var r=n;r<e;r++)this[r]=t}},p.prototype.inspect=function(){for(var t=[],n=this.length,e=0;e<n;e++)if(t[e]=x(this[e]),e===P.INSPECT_MAX_BYTES){t[e+1]="...";break}return"<Buffer "+t.join(" ")+">"},p.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var t=new Uint8Array(this.length),n=0,e=t.length;n<e;n+=1)t[n]=this[n];return t.buffer};var A=p.prototype;function E(t,n,e){return"number"!=typeof t?e:n<=(t=~~t)?n:0<=t||0<=(t+=n)?t:0}function S(t){return(t=~~Math.ceil(+t))<0?0:t}function k(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function x(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t){for(var n=[],e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<=127)n.push(t.charCodeAt(e));else{var o=e;55296<=r&&r<=57343&&e++;for(var i=encodeURIComponent(t.slice(o,e+1)).substr(1).split("%"),u=0;u<i.length;u++)n.push(parseInt(i[u],16))}}return n}function O(t){return a.toByteArray(t)}function T(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);o++)n[o+e]=t[o];return o}function B(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function C(t,n){R("number"==typeof t,"cannot write a non-number as a number"),R(0<=t,"specified a negative value for writing an unsigned value"),R(t<=n,"value is larger than maximum value for type"),R(Math.floor(t)===t,"value has a fractional component")}function L(t,n,e){R("number"==typeof t,"cannot write a non-number as a number"),R(t<=n,"value larger than maximum allowed value"),R(e<=t,"value smaller than minimum allowed value"),R(Math.floor(t)===t,"value has a fractional component")}function U(t,n,e){R("number"==typeof t,"cannot write a non-number as a number"),R(t<=n,"value larger than maximum allowed value"),R(e<=t,"value smaller than minimum allowed value")}function R(t,n){if(!t)throw new Error(n||"Failed assertion")}p._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=A.get,t.set=A.set,t.write=A.write,t.toString=A.toString,t.toLocaleString=A.toString,t.toJSON=A.toJSON,t.copy=A.copy,t.slice=A.slice,t.readUInt8=A.readUInt8,t.readUInt16LE=A.readUInt16LE,t.readUInt16BE=A.readUInt16BE,t.readUInt32LE=A.readUInt32LE,t.readUInt32BE=A.readUInt32BE,t.readInt8=A.readInt8,t.readInt16LE=A.readInt16LE,t.readInt16BE=A.readInt16BE,t.readInt32LE=A.readInt32LE,t.readInt32BE=A.readInt32BE,t.readFloatLE=A.readFloatLE,t.readFloatBE=A.readFloatBE,t.readDoubleLE=A.readDoubleLE,t.readDoubleBE=A.readDoubleBE,t.writeUInt8=A.writeUInt8,t.writeUInt16LE=A.writeUInt16LE,t.writeUInt16BE=A.writeUInt16BE,t.writeUInt32LE=A.writeUInt32LE,t.writeUInt32BE=A.writeUInt32BE,t.writeInt8=A.writeInt8,t.writeInt16LE=A.writeInt16LE,t.writeInt16BE=A.writeInt16BE,t.writeInt32LE=A.writeInt32LE,t.writeInt32BE=A.writeInt32BE,t.writeFloatLE=A.writeFloatLE,t.writeFloatBE=A.writeFloatBE,t.writeDoubleLE=A.writeDoubleLE,t.writeDoubleBE=A.writeDoubleBE,t.fill=A.fill,t.inspect=A.inspect,t.toArrayBuffer=A.toArrayBuffer,t}}).call(this,$("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(c,l,t){(function(t,n,u,e,r,o,i,f,a){var u=c("buffer").Buffer,s=new u(4);s.fill(0),l.exports={hash:function(t,n,i,e){return function(t,n){for(var e=new u(i),r=n?e.writeInt32BE:e.writeInt32LE,o=0;o<t.length;o++)r.call(e,t[o],4*o,!0);return e}(n(function(t,n){var e;t.length%4!=0&&(e=t.length+(4-t.length%4),t=u.concat([t,s],e));for(var r=[],o=n?t.readInt32BE:t.readInt32LE,i=0;i<t.length;i+=4)r.push(o.call(t,i));return r}(t=!u.isBuffer(t)?new u(t):t,e),8*t.length),e)}}}).call(this,c("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(v,t,g){(function(t,n,u,e,r,o,i,f,a){var u=v("buffer").Buffer,s=v("./sha"),c=v("./sha256"),l=v("./rng"),p={sha1:s,sha256:c,md5:v("./md5")},h=new u(64);function y(t,e){var r=p[t=t||"sha1"],o=[];return r||d("algorithm:",t,"is not yet supported"),{update:function(t){return u.isBuffer(t)||(t=new u(t)),o.push(t),t.length,this},digest:function(t){var n=u.concat(o),n=e?function(t,n,e){u.isBuffer(n)||(n=new u(n)),u.isBuffer(e)||(e=new u(e)),64<n.length?n=t(n):n.length<64&&(n=u.concat([n,h],64));for(var r=new u(64),o=new u(64),i=0;i<64;i++)r[i]=54^n[i],o[i]=92^n[i];e=t(u.concat([r,e]));return t(u.concat([o,e]))}(r,e,n):r(n);return o=null,t?n.toString(t):n}}}function d(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}h.fill(0),g.createHash=function(t){return y(t)},g.createHmac=y,g.randomBytes=function(t,n){if(!n||!n.call)return new u(l(t));try{n.call(this,void 0,new u(l(t)))}catch(t){n(t)}},function(t){for(var n in t)!function(t){g[t]=function(){d("sorry,",t,"is not implemented yet")}}(t[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"])}).call(this,v("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(g,b,t){(function(t,n,e,r,o,i,u,f,a){var s=g("./helpers");function c(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var e=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<t.length;u+=16){var f=e,a=r,s=o,c=i,e=p(e,r,o,i,t[u+0],7,-680876936),i=p(i,e,r,o,t[u+1],12,-389564586),o=p(o,i,e,r,t[u+2],17,606105819),r=p(r,o,i,e,t[u+3],22,-1044525330);e=p(e,r,o,i,t[u+4],7,-176418897),i=p(i,e,r,o,t[u+5],12,1200080426),o=p(o,i,e,r,t[u+6],17,-1473231341),r=p(r,o,i,e,t[u+7],22,-45705983),e=p(e,r,o,i,t[u+8],7,1770035416),i=p(i,e,r,o,t[u+9],12,-1958414417),o=p(o,i,e,r,t[u+10],17,-42063),r=p(r,o,i,e,t[u+11],22,-1990404162),e=p(e,r,o,i,t[u+12],7,1804603682),i=p(i,e,r,o,t[u+13],12,-40341101),o=p(o,i,e,r,t[u+14],17,-1502002290),e=h(e,r=p(r,o,i,e,t[u+15],22,1236535329),o,i,t[u+1],5,-165796510),i=h(i,e,r,o,t[u+6],9,-1069501632),o=h(o,i,e,r,t[u+11],14,643717713),r=h(r,o,i,e,t[u+0],20,-373897302),e=h(e,r,o,i,t[u+5],5,-701558691),i=h(i,e,r,o,t[u+10],9,38016083),o=h(o,i,e,r,t[u+15],14,-660478335),r=h(r,o,i,e,t[u+4],20,-405537848),e=h(e,r,o,i,t[u+9],5,568446438),i=h(i,e,r,o,t[u+14],9,-1019803690),o=h(o,i,e,r,t[u+3],14,-187363961),r=h(r,o,i,e,t[u+8],20,1163531501),e=h(e,r,o,i,t[u+13],5,-1444681467),i=h(i,e,r,o,t[u+2],9,-51403784),o=h(o,i,e,r,t[u+7],14,1735328473),e=y(e,r=h(r,o,i,e,t[u+12],20,-1926607734),o,i,t[u+5],4,-378558),i=y(i,e,r,o,t[u+8],11,-2022574463),o=y(o,i,e,r,t[u+11],16,1839030562),r=y(r,o,i,e,t[u+14],23,-35309556),e=y(e,r,o,i,t[u+1],4,-1530992060),i=y(i,e,r,o,t[u+4],11,1272893353),o=y(o,i,e,r,t[u+7],16,-155497632),r=y(r,o,i,e,t[u+10],23,-1094730640),e=y(e,r,o,i,t[u+13],4,681279174),i=y(i,e,r,o,t[u+0],11,-358537222),o=y(o,i,e,r,t[u+3],16,-722521979),r=y(r,o,i,e,t[u+6],23,76029189),e=y(e,r,o,i,t[u+9],4,-640364487),i=y(i,e,r,o,t[u+12],11,-421815835),o=y(o,i,e,r,t[u+15],16,530742520),e=d(e,r=y(r,o,i,e,t[u+2],23,-995338651),o,i,t[u+0],6,-198630844),i=d(i,e,r,o,t[u+7],10,1126891415),o=d(o,i,e,r,t[u+14],15,-1416354905),r=d(r,o,i,e,t[u+5],21,-57434055),e=d(e,r,o,i,t[u+12],6,1700485571),i=d(i,e,r,o,t[u+3],10,-1894986606),o=d(o,i,e,r,t[u+10],15,-1051523),r=d(r,o,i,e,t[u+1],21,-2054922799),e=d(e,r,o,i,t[u+8],6,1873313359),i=d(i,e,r,o,t[u+15],10,-30611744),o=d(o,i,e,r,t[u+6],15,-1560198380),r=d(r,o,i,e,t[u+13],21,1309151649),e=d(e,r,o,i,t[u+4],6,-145523070),i=d(i,e,r,o,t[u+11],10,-1120210379),o=d(o,i,e,r,t[u+2],15,718787259),r=d(r,o,i,e,t[u+9],21,-343485551),e=v(e,f),r=v(r,a),o=v(o,s),i=v(i,c)}return Array(e,r,o,i)}function l(t,n,e,r,o,i){return v((i=v(v(n,t),v(r,i)))<<o|i>>>32-o,e)}function p(t,n,e,r,o,i,u){return l(n&e|~n&r,t,n,o,i,u)}function h(t,n,e,r,o,i,u){return l(n&r|e&~r,t,n,o,i,u)}function y(t,n,e,r,o,i,u){return l(n^e^r,t,n,o,i,u)}function d(t,n,e,r,o,i,u){return l(e^(n|~r),t,n,o,i,u)}function v(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}b.exports=function(t){return s.hash(t,c,16)}}).call(this,g("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,c,n){(function(t,n,e,r,o,i,u,f,a){var s=function(t){for(var n,e=new Array(t),r=0;r<t;r++)0==(3&r)&&(n=4294967296*Math.random()),e[r]=n>>>((3&r)<<3)&255;return e};c.exports=s}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(l,p,t){(function(t,n,e,r,o,i,u,f,a){var s=l("./helpers");function c(t,n){t[n>>5]|=128<<24-n%32,t[15+(n+64>>9<<4)]=n;for(var e=Array(80),r=1732584193,o=-271733879,i=-1732584194,u=271733878,f=-1009589776,a=0;a<t.length;a+=16){for(var s=r,c=o,l=i,p=u,h=f,y=0;y<80;y++){e[y]=y<16?t[a+y]:g(e[y-3]^e[y-8]^e[y-14]^e[y-16],1);var d=v(v(g(r,5),y<20?o&i|~o&u:!(y<40)&&y<60?o&i|o&u|i&u:o^i^u),v(v(f,e[y]),y<20?1518500249:y<40?1859775393:y<60?-1894007588:-899497514)),f=u,u=i,i=g(o,30),o=r,r=d}r=v(r,s),o=v(o,c),i=v(i,l),u=v(u,p),f=v(f,h)}return Array(r,o,i,u,f)}function v(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function g(t,n){return t<<n|t>>>32-n}p.exports=function(t){return s.hash(t,c,20,!0)}}).call(this,l("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},l("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(l,p,t){(function(t,n,e,r,o,i,u,f,a){function g(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function b(t,n){return t>>>n|t<<32-n}function s(t,n){var e,r,o,i,u,f,a,s,c=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),l=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),p=new Array(64);t[n>>5]|=128<<24-n%32,t[15+(n+64>>9<<4)]=n;for(var h,y,d=0;d<t.length;d+=16){e=l[0],r=l[1],o=l[2],i=l[3],u=l[4],f=l[5],a=l[6],s=l[7];for(var v=0;v<64;v++)p[v]=v<16?t[v+d]:g(g(g(b(y=p[v-2],17)^b(y,19)^y>>>10,p[v-7]),b(h=p[v-15],7)^b(h,18)^h>>>3),p[v-16]),h=g(g(g(g(s,b(y=u,6)^b(y,11)^b(y,25)),u&f^~u&a),c[v]),p[v]),y=g(b(y=e,2)^b(y,13)^b(y,22),e&r^e&o^r&o),s=a,a=f,f=u,u=g(i,h),i=o,o=r,r=e,e=g(h,y);l[0]=g(e,l[0]),l[1]=g(r,l[1]),l[2]=g(o,l[2]),l[3]=g(i,l[3]),l[4]=g(u,l[4]),l[5]=g(f,l[5]),l[6]=g(a,l[6]),l[7]=g(s,l[7])}return l}var c=l("./helpers");p.exports=function(t){return c.hash(t,s,32,!0)}}).call(this,l("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},l("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,c,n){(function(t,n,e,r,o,i,u,f,a){function s(){}(t=c.exports={}).nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(n){var e=[];return window.addEventListener("message",function(t){var n=t.source;n!==window&&null!==n||"process-tick"!==t.data||(t.stopPropagation(),0<e.length&&e.shift()())},!0),function(t){e.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=s,t.addListener=s,t.once=s,t.off=s,t.removeListener=s,t.removeAllListeners=s,t.emit=s,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(t,n,s){(function(t,n,e,r,o,i,u,f,a){s.read=function(t,n,e,r,o){var i,u,f=8*o-r-1,a=(1<<f)-1,s=a>>1,c=-7,l=e?o-1:0,p=e?-1:1,e=t[n+l];for(l+=p,i=e&(1<<-c)-1,e>>=-c,c+=f;0<c;i=256*i+t[n+l],l+=p,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=r;0<c;u=256*u+t[n+l],l+=p,c-=8);if(0===i)i=1-s;else{if(i===a)return u?NaN:1/0*(e?-1:1);u+=Math.pow(2,r),i-=s}return(e?-1:1)*u*Math.pow(2,i-r)},s.write=function(t,n,e,r,o,i){var u,f,a=8*i-o-1,s=(1<<a)-1,c=s>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,i=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,u=s):(u=Math.floor(Math.log(n)/Math.LN2),n*(r=Math.pow(2,-u))<1&&(u--,r*=2),2<=(n+=1<=u+c?l/r:l*Math.pow(2,1-c))*r&&(u++,r/=2),s<=u+c?(f=0,u=s):1<=u+c?(f=(n*r-1)*Math.pow(2,o),u+=c):(f=n*Math.pow(2,c-1)*Math.pow(2,o),u=0));8<=o;t[e+p]=255&f,p+=h,f/=256,o-=8);for(u=u<<o|f,a+=o;0<a;t[e+p]=255&u,p+=h,u/=256,a-=8);t[e+p-h]|=128*i}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},"object"==typeof o?r.exports=t():("undefined"!=typeof window?n=window:void 0!==e?n=e:"undefined"!=typeof self&&(n=self),n.objectHash=t())}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,n,e){var r,o,n=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function f(n){if(r===setTimeout)return setTimeout(n,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(n,0);try{return r(n,0)}catch(t){try{return r.call(null,n,0)}catch(t){return r.call(this,n,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var a,s=[],c=!1,l=-1;function p(){c&&a&&(c=!1,a.length?s=a.concat(s):l=-1,s.length&&h())}function h(){if(!c){var t=f(p);c=!0;for(var n=s.length;n;){for(a=s,s=[];++l<n;)a&&a[l].run();l=-1,n=s.length}a=null,c=!1,function(n){if(o===clearTimeout)return clearTimeout(n);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(n);try{o(n)}catch(t){try{return o.call(null,n)}catch(t){return o.call(this,n)}}}(t)}}function y(t,n){this.fun=t,this.array=n}function d(){}n.nextTick=function(t){var n=new Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new y(t,n)),1!==s.length||c||f(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],30:[function(t,r,o){(function(rt,ot){(function(){!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof o&&"object"==typeof r)r.exports=t();else if(0,"undefined"!=typeof ses)ses.ok()&&(ses.makeQ=t);else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var n="undefined"!=typeof window?window:self,e=n.Q;n.Q=t(),n.Q.noConflict=function(){return n.Q=e,this}}}(function(){"use strict";var f=!1;try{throw new Error}catch(t){f=!!t.stack}function n(){}var i,t,e,r,o,u,a,s,c,l=T(),p=(o=r={task:void 0,next:null},a=void 0,s=u=!1,c=[],p=function(t){o=o.next={task:t,domain:s&&rt.domain,next:null},u||(u=!0,a())},a="object"==typeof rt&&"[object process]"===rt.toString()&&rt.nextTick?(s=!0,function(){rt.nextTick(h)}):"function"==typeof ot?"undefined"!=typeof window?ot.bind(window,h):function(){ot(h)}:"undefined"!=typeof MessageChannel?((t=new MessageChannel).port1.onmessage=function(){a=e,(t.port1.onmessage=h)()},e=function(){t.port2.postMessage(0)},function(){setTimeout(h,0),e()}):function(){setTimeout(h,0)},p.runAfter=function(t){c.push(t),u||(u=!0,a())},p);function h(){for(var t,n;r.next;)t=(r=r.next).task,r.task=void 0,(n=r.domain)&&(r.domain=void 0,n.enter()),y(t,n);for(;c.length;)y(t=c.pop());u=!1}function y(t,n){try{t()}catch(t){if(s)throw n&&n.exit(),setTimeout(h,0),n&&n.enter(),t;setTimeout(function(){throw t},0)}n&&n.exit()}var d=Function.call;function v(t){return function(){return d.apply(t,arguments)}}var g,b=v(Array.prototype.slice),m=v(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;e<r;e++)e in this&&(n=t(n,this[e],e));return n}),w=v(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),_=v(Array.prototype.map||function(r,o){var i=this,u=[];return m(i,function(t,n,e){u.push(r.call(o,n,e,i))},void 0),u}),j=Object.create||function(t){function n(){}return n.prototype=t,new n},A=Object.defineProperty||function(t,n,e){return t[n]=e.value,t},E=v(Object.prototype.hasOwnProperty),S=Object.keys||function(t){var n,e=[];for(n in t)E(t,n)&&e.push(n);return e},k=v(Object.prototype.toString);g="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var x="From previous event:";function I(t,n){if(f&&n.stack&&"object"==typeof t&&null!==t&&t.stack){for(var e=[],r=n;r;r=r.source)r.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>r.stackCounter)&&(A(t,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),e.unshift(r.stack));e.unshift(t.stack);n=function(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];!function(t){var n=O(t);if(!n)return!1;t=n[0],n=n[1];return t===i&&l<=n&&n<=et}(o)&&!function(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}(o)&&o&&e.push(o)}return e.join("\n")}(e.join("\n"+x+"\n"));A(t,"stack",{value:n,configurable:!0})}}function O(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];t=/.*@(.+):(\d+)$/.exec(t);return t?[t[1],Number(t[2])]:void 0}function T(){if(f)try{throw new Error}catch(t){var n=t.stack.split("\n"),n=O(0<n[0].indexOf("@")?n[1]:n[2]);return n?(i=n[0],n[1]):void 0}}function B(t){return t instanceof $?t:N(t)?(n=t,e=L(),B.nextTick(function(){try{n.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.promise):J(t);var n,e}(B.resolve=B).nextTick=p,B.longStackSupport=!1;var C=1;function L(){var o,i=[],u=[],t=j(L.prototype),n=j($.prototype);if(n.promiseDispatch=function(t,n,e){var r=b(arguments);i?(i.push(r),"when"===n&&e[1]&&u.push(e[1])):B.nextTick(function(){o.promiseDispatch.apply(o,r)})},n.valueOf=function(){if(i)return n;var t=M(o);return D(t)&&(o=t),t},n.inspect=function(){return o?o.inspect():{state:"pending"}},B.longStackSupport&&f)try{throw new Error}catch(t){n.stack=t.stack.substring(t.stack.indexOf("\n")+1),n.stackCounter=C++}function e(e){o=e,B.longStackSupport&&f&&(n.source=e),m(i,function(t,n){B.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),u=i=void 0}return t.promise=n,t.resolve=function(t){o||e(B(t))},t.fulfill=function(t){o||e(J(t))},t.reject=function(t){o||e(H(t))},t.notify=function(e){o||m(u,function(t,n){B.nextTick(function(){n(e)})},void 0)},t}function U(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=L();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}function R(o){return U(function(t,n){for(var e=0,r=o.length;e<r;e++)B(o[e]).then(t,n)})}function $(o,i,n){void 0===i&&(i=function(t){return H(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var t,u=j($.prototype);return u.promiseDispatch=function(t,n,e){var r;try{r=o[n]?o[n].apply(u,e):i.call(u,n,e)}catch(t){r=H(t)}t&&t(r)},(u.inspect=n)&&("rejected"===(t=n()).state&&(u.exception=t.reason),u.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?u:t.value}),u}function P(t,n,e,r){return B(t).then(n,e,r)}function M(t){if(D(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function D(t){return t instanceof $}function N(t){return(n=t)===Object(n)&&"function"==typeof t.then;var n}"object"==typeof rt&&rt&&rt.env&&rt.env.Q_DEBUG&&(B.longStackSupport=!0),(B.defer=L).prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):2<arguments.length?e.resolve(b(arguments,1)):e.resolve(n)}},B.Promise=U,(B.promise=U).race=R,U.all=Z,U.reject=H,(U.resolve=B).passByCopy=function(t){return t},$.prototype.passByCopy=function(){return this},B.join=function(t,n){return B(t).join(n)},$.prototype.join=function(t){return B([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Q can't join: not the same: "+t+" "+n)})},B.race=R,$.prototype.race=function(){return this.then(B.race)},(B.makePromise=$).prototype.toString=function(){return"[object Promise]"},$.prototype.then=function(n,e,o){var r=this,i=L(),u=!1;return B.nextTick(function(){r.promiseDispatch(function(t){u||(u=!0,i.resolve(function(t){try{return"function"==typeof n?n(t):t}catch(t){return H(t)}}(t)))},"when",[function(t){u||(u=!0,i.resolve(function(t){if("function"==typeof e){I(t,r);try{return e(t)}catch(t){return H(t)}}return H(t)}(t)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(t){var n,e,r=!1;try{e=t,n="function"==typeof o?o(e):e}catch(t){if(r=!0,!B.onerror)throw t;B.onerror(t)}r||i.notify(n)}]),i.promise},B.tap=function(t,n){return B(t).tap(n)},$.prototype.tap=function(n){return n=B(n),this.then(function(t){return n.fcall(t).thenResolve(t)})},B.when=P,$.prototype.thenResolve=function(t){return this.then(function(){return t})},B.thenResolve=function(t,n){return B(t).thenResolve(n)},$.prototype.thenReject=function(t){return this.then(function(){throw t})},B.thenReject=function(t,n){return B(t).thenReject(n)},B.nearer=M,B.isPromise=D,B.isPromiseAlike=N,B.isPending=function(t){return D(t)&&"pending"===t.inspect().state},$.prototype.isPending=function(){return"pending"===this.inspect().state},B.isFulfilled=function(t){return!D(t)||"fulfilled"===t.inspect().state},$.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},B.isRejected=function(t){return D(t)&&"rejected"===t.inspect().state},$.prototype.isRejected=function(){return"rejected"===this.inspect().state};var F,Y,q,V=[],z=[],K=[],Q=!0;function W(){V.length=0,z.length=0,Q=Q||!0}function H(r){var t,n,e=$({when:function(t){var n,e;return t&&(n=this,!Q||-1!==(e=w(z,n))&&("object"==typeof rt&&"function"==typeof rt.emit&&B.nextTick.runAfter(function(){var t=w(K,n);-1!==t&&(rt.emit("rejectionHandled",V[e],n),K.splice(t,1))}),z.splice(e,1),V.splice(e,1))),t?t(r):this}},function(){return this},function(){return{state:"rejected",reason:r}});return t=e,n=r,Q&&("object"==typeof rt&&"function"==typeof rt.emit&&B.nextTick.runAfter(function(){-1!==w(z,t)&&(rt.emit("unhandledRejection",n,t),K.push(t))}),z.push(t),n&&void 0!==n.stack?V.push(n.stack):V.push("(no stack) "+n)),e}function J(e){return $({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return S(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function G(t,n,e){return B(t).spread(n,e)}function X(t,n,e){return B(t).dispatch(n,e)}function Z(t){return P(t,function(o){var i=0,u=L();return m(o,function(t,n,e){var r;D(n)&&"fulfilled"===(r=n.inspect()).state?o[e]=r.value:(++i,P(n,function(t){o[e]=t,0==--i&&u.resolve(o)},u.reject,function(t){u.notify({index:e,value:t})}))},void 0),0===i&&u.resolve(o),u.promise})}function tt(o){if(0===o.length)return B.resolve();var i=B.defer(),u=0;return m(o,function(t,n,e){var r=o[e];u++,P(r,function(t){i.resolve(t)},function(t){0==--u&&((t=t||new Error(""+t)).message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,i.reject(t))},function(t){i.notify({index:e,value:t})})},void 0),i.promise}function nt(t){return P(t,function(t){return t=_(t,B),P(Z(_(t,function(t){return P(t,n,n)})),function(){return t})})}B.resetUnhandledRejections=W,B.getUnhandledReasons=function(){return V.slice()},B.stopUnhandledRejectionTracking=function(){W(),Q=!1},W(),B.reject=H,B.fulfill=J,B.master=function(e){return $({isDef:function(){}},function(t,n){return X(e,t,n)},function(){return B(e).inspect()})},B.spread=G,$.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)},B.async=function(n){return function(){function t(t,n){var e,r;if("undefined"==typeof StopIteration){try{e=o[t](n)}catch(t){return H(t)}return e.done?B(e.value):P(e.value,i,u)}try{e=o[t](n)}catch(t){return"[object StopIteration]"===k(r=t)||r instanceof g?B(t.value):H(t)}return P(e,i,u)}var o=n.apply(this,arguments),i=t.bind(t,"next"),u=t.bind(t,"throw");return i()}},B.spawn=function(t){B.done(B.async(t)())},B.return=function(t){throw new g(t)},B.promised=function(e){return function(){return G([this,Z(arguments)],function(t,n){return e.apply(t,n)})}},B.dispatch=X,$.prototype.dispatch=function(t,n){var e=this,r=L();return B.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},B.get=function(t,n){return B(t).dispatch("get",[n])},$.prototype.get=function(t){return this.dispatch("get",[t])},B.set=function(t,n,e){return B(t).dispatch("set",[n,e])},$.prototype.set=function(t,n){return this.dispatch("set",[t,n])},B.del=B.delete=function(t,n){return B(t).dispatch("delete",[n])},$.prototype.del=$.prototype.delete=function(t){return this.dispatch("delete",[t])},B.mapply=B.post=function(t,n,e){return B(t).dispatch("post",[n,e])},$.prototype.mapply=$.prototype.post=function(t,n){return this.dispatch("post",[t,n])},B.send=B.mcall=B.invoke=function(t,n){return B(t).dispatch("post",[n,b(arguments,2)])},$.prototype.send=$.prototype.mcall=$.prototype.invoke=function(t){return this.dispatch("post",[t,b(arguments,1)])},B.fapply=function(t,n){return B(t).dispatch("apply",[void 0,n])},$.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},B.try=B.fcall=function(t){return B(t).dispatch("apply",[void 0,b(arguments,1)])},$.prototype.fcall=function(){return this.dispatch("apply",[void 0,b(arguments)])},B.fbind=function(t){var n=B(t),e=b(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(b(arguments))])}},$.prototype.fbind=function(){var t=this,n=b(arguments);return function(){return t.dispatch("apply",[this,n.concat(b(arguments))])}},B.keys=function(t){return B(t).dispatch("keys",[])},$.prototype.keys=function(){return this.dispatch("keys",[])},B.all=Z,$.prototype.all=function(){return Z(this)},B.any=tt,$.prototype.any=function(){return tt(this)},B.allResolved=(F=nt,Y="allResolved",q="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(Y+" is deprecated, use "+q+" instead.",new Error("").stack),F.apply(F,arguments)}),$.prototype.allResolved=function(){return nt(this)},B.allSettled=function(t){return B(t).allSettled()},$.prototype.allSettled=function(){return this.then(function(t){return Z(_(t,function(t){function n(){return t.inspect()}return(t=B(t)).then(n,n)}))})},B.fail=B.catch=function(t,n){return B(t).then(void 0,n)},$.prototype.fail=$.prototype.catch=function(t){return this.then(void 0,t)},B.progress=function(t,n){return B(t).then(void 0,void 0,n)},$.prototype.progress=function(t){return this.then(void 0,void 0,t)},B.fin=B.finally=function(t,n){return B(t).finally(n)},$.prototype.fin=$.prototype.finally=function(n){if(!n||"function"!=typeof n.apply)throw new Error("Q can't apply finally callback");return n=B(n),this.then(function(t){return n.fcall().then(function(){return t})},function(t){return n.fcall().then(function(){throw t})})},B.done=function(t,n,e,r){return B(t).done(n,e,r)},$.prototype.done=function(t,n,e){var r=function(t){B.nextTick(function(){if(I(t,o),!B.onerror)throw t;B.onerror(t)})},o=t||n||e?this.then(t,n,e):this;"object"==typeof rt&&rt&&rt.domain&&(r=rt.domain.bind(r)),o.then(void 0,r)},B.timeout=function(t,n,e){return B(t).timeout(n,e)},$.prototype.timeout=function(t,n){var e=L(),r=setTimeout(function(){n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},B.delay=function(t,n){return void 0===n&&(n=t,t=void 0),B(t).delay(n)},$.prototype.delay=function(e){return this.then(function(t){var n=L();return setTimeout(function(){n.resolve(t)},e),n.promise})},B.nfapply=function(t,n){return B(t).nfapply(n)},$.prototype.nfapply=function(t){var n=L(),t=b(t);return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},B.nfcall=function(t){var n=b(arguments,1);return B(t).nfapply(n)},$.prototype.nfcall=function(){var t=b(arguments),n=L();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},B.nfbind=B.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var r=b(arguments,1);return function(){var t=r.concat(b(arguments)),n=L();return t.push(n.makeNodeResolver()),B(e).fapply(t).fail(n.reject),n.promise}},$.prototype.nfbind=$.prototype.denodeify=function(){var t=b(arguments);return t.unshift(this),B.denodeify.apply(void 0,t)},B.nbind=function(e,r){var o=b(arguments,2);return function(){var t=o.concat(b(arguments)),n=L();return t.push(n.makeNodeResolver()),B(function(){return e.apply(r,arguments)}).fapply(t).fail(n.reject),n.promise}},$.prototype.nbind=function(){var t=b(arguments,0);return t.unshift(this),B.nbind.apply(void 0,t)},B.nmapply=B.npost=function(t,n,e){return B(t).npost(n,e)},$.prototype.nmapply=$.prototype.npost=function(t,n){var e=b(n||[]),n=L();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},B.nsend=B.nmcall=B.ninvoke=function(t,n){var e=b(arguments,2),r=L();return e.push(r.makeNodeResolver()),B(t).dispatch("post",[n,e]).fail(r.reject),r.promise},$.prototype.nsend=$.prototype.nmcall=$.prototype.ninvoke=function(t){var n=b(arguments,1),e=L();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},B.nodeify=function(t,n){return B(t).nodeify(n)},$.prototype.nodeify=function(n){if(!n)return this;this.then(function(t){B.nextTick(function(){n(null,t)})},function(t){B.nextTick(function(){n(t)})})},B.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var et=T();return B})}).call(this)}).call(this,t("_process"),t("timers").setImmediate)},{_process:29,timers:31}],31:[function(a,t,s){(function(e,f){(function(){var r=a("process/browser.js").nextTick,t=Function.prototype.apply,o=Array.prototype.slice,i={},u=0;function n(t,n){this._id=t,this._clearFn=n}s.setTimeout=function(){return new n(t.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new n(t.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(t){t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},s.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},s._unrefActive=s.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;0<=n&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},s.setImmediate="function"==typeof e?e:function(t){var n=u++,e=!(arguments.length<2)&&o.call(arguments,1);return i[n]=!0,r(function(){i[n]&&(e?t.apply(null,e):t.call(null),s.clearImmediate(n))}),n},s.clearImmediate="function"==typeof f?f:function(t){delete i[t]}}).call(this)}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":29,timers:31}]},{},[8])(8)});
//# sourceMappingURL=zangodb.min.js.map
